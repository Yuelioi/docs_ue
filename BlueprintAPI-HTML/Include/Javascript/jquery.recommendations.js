function loadRecResource(n){var i=n.substring(n.lastIndexOf(".")+1),t=undefined;switch(i){case"js":t=document.createElement("script");$(t).attr("type","text/javascript");$(t).attr("src",n);break;case"css":t=document.createElement("link");$(t).attr("rel","stylesheet");$(t).attr("type","text/css");$(t).attr("href",n)}typeof t!="undefined"&&document.getElementsByTagName("head")[0].appendChild(t)}typeof recommendationsCSS!="undefined"&&loadRecResource(recommendationsCSS),function(n){n.fn.extend({recommendations:function(t){var r=n.extend({action:"init",type:"personalization",limit:5,linkSelector:"#navPanel li",minVisits:5,collapsible:!0,collapsed:!0,noResults:"No recommendations found",cookiesEnabled:"Requires cookies to be enabled in your browser.",showTitle:!0},t);return this.each(function(){function o(){var f=[],e;if(r.type=="related")n("meta[name='tags']").each(function(){f[f.length]=n(this).attr("content")});else if(u!=null)for(u.sort(function(n,t){return parseInt(t.count)-parseInt(n.count)}),i=0;i<u.length;i++)u[i].tag.toLowerCase()!="beta"&&u[i].tag.toLowerCase()!="experimental"&&u[i].tag.toLowerCase()!="deprecated"&&u[i].count>r.minVisits&&(f[f.length]=u[i].tag);for(e=[],i=0;i<f.length;i++){var t=[],o="tag_"+f[i].replace(new RegExp(" ","g"),"_").toLowerCase(),s=r.linkSelector+"[filter-data*='"+o+"']";for(n(s).each(function(){var r=n(this).find("a").first().text(),u=n("h1").first().text(),i=t.findIndex(function(t){return t.url==n(this).find("a").attr("href")?!0:!1},this);r!=u&&(i!=-1?t[i].matches+=1:t[t.length]={url:n(this).find("a").attr("href"),title:n(this).find("a").html(),description:n(this).find("a").attr("title"),matches:1})}),t.sort(function(n,t){return t.matches-n.matches}),j=0;j<t.length;j++)e[e.length]=t[j]}return e}function s(){var t=JSON.parse(readCookie("recs-data"));return n("meta[name='tags']").each(function(){if(t!=null){var i=t.findIndex(function(t){var i=n(this).attr("content");return t.tag==i?!0:!1},this);i!=-1?t[i].count=(parseInt(t[i].count)+1).toString():t[t.length]={tag:n(this).attr("content"),count:"1"}}else t=[{tag:n(this).attr("content"),count:"1"}]}),createCookie("recs-data",JSON.stringify(t),365),t}function h(t){var u,f;if(r.showTitle&&(u="",u=r.title!==undefined?r.title:r.type=="related"?"Pages like this":"You might also like",n("#recWrapper").append('<div id="recTitle"'+(r.collapsible&&r.collapsed?' class="collapsed"':' class="static"')+(r.collapsible?" onclick=\"$('#recInfo').toggle();if($(this).hasClass('collapsed')){$(this).removeClass('collapsed');}else{$(this).addClass('collapsed');}\"":"")+">"+u+"<\/div>")),n("#recWrapper").append('<div id="recInfo"'+(r.collapsible&&r.collapsed?' style="display:none;"':"")+"><\/div>"),t.length>0)for(f=t.length<r.limit?t.length:r.limit,i=0;i<f;i++)n("#recInfo").append('<div class="recItem"><a href="'+t[i].url+'"><div class="recItemTitle">'+t[i].title+'<\/div><div class="recItemDescription">'+t[i].description+"<\/div><\/a><\/div>");else n("#recInfo").append('<div class="recMessage">'+r.noResults+"<\/div>"),n("#recInfo").append('<div class="recMessage">'+r.cookiesEnabled+"<\/div>")}var e=n(this),u,f;if(e.append('<div id="recWrapper"><\/div>'),r.action=="update"){getRecommendations();return}n.isPlainObject(t)&&"destroy"in t||(u=s(),f=o(),h(f))}),this}});n.fn.extend({recommendations:n.fn.recommendations})}(jQuery)