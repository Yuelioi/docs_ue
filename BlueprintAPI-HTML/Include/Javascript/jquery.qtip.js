function loadTooltipResource(n){var i=n.substring(n.lastIndexOf(".")+1),t=undefined;switch(i){case"js":t=document.createElement("script");$(t).attr("type","text/javascript");$(t).attr("src",n);break;case"css":t=document.createElement("link");$(t).attr("rel","stylesheet");$(t).attr("type","text/css");$(t).attr("href",n)}typeof t!="undefined"&&document.getElementsByTagName("head")[0].appendChild(t)}typeof qtipCSS!="undefined"&&loadTooltipResource(qtipCSS),function(n,t,r){(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","imagesloaded"],n):jQuery&&!jQuery.fn.qtip&&n(jQuery)})(function(u){function ai(n,t,i,r){this.id=i;this.target=n;this.tooltip=c;this.elements=elements={target:n};this._id=h+"-"+i;this.timers={img:{}};this.options=t;this.plugins={};this.cache=cache={event:{},target:u(),disabled:f,attr:r,onTooltip:f,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=f}function ut(n){return n===c||u.type(n)!=="object"}function vi(n){return!(u.isFunction(n)||n&&n.attr||n.length||u.type(n)==="object"&&(n.jquery||n.then))}function dt(n){var t,r,i,s;return ut(n)?f:(ut(n.metadata)&&(n.metadata={type:n.metadata}),"content"in n&&(t=n.content,ut(t)||t.jquery||t.done?t=n.content={text:r=vi(t)?f:t}:r=t.text,"ajax"in t&&(i=t.ajax,s=i&&i.once!==f,delete t.ajax,t.text=function(n,t){var f=r||u(this).attr(t.options.content.attr)||"Loading...",e=u.ajax(u.extend({},i,{context:t})).then(i.success,c,i.error).then(function(n){return n&&s&&t.set("content.text",n),n},function(n,i,r){t.destroyed||n.status===0||t.set("content.text",i+": "+r)});return s?f:(t.set("content.text",f),e)}),"title"in t&&(ut(t.title)||(t.button=t.title.button,t.title=t.title.text),vi(t.title||f)&&(t.title=f))),"position"in n&&ut(n.position)&&(n.position={my:n.position,at:n.position}),"show"in n&&ut(n.show)&&(n.show=n.show.jquery?{target:n.show}:n.show===e?{ready:e}:{event:n.show}),"hide"in n&&ut(n.hide)&&(n.hide=n.hide.jquery?{target:n.hide}:{event:n.hide}),"style"in n&&ut(n.style)&&(n.style={classes:n.style}),u.each(o,function(){this.sanitize&&this.sanitize(n)}),n)}function yi(n,t){for(var u=0,f,i=n,r=t.split(".");i=i[r[u++]];)u<r.length&&(f=i);return[f||n,r.pop()]}function lr(n,t){var i,r,u;for(i in this.checks)for(r in this.checks[i])(u=new RegExp(r,"i").exec(n))&&(t.push(u),(i==="builtin"||this.plugins[i])&&this.checks[i][r].apply(this.plugins[i]||this,t))}function gt(n){return hr.concat("").join(n?"-"+n+" ":" ")}function bi(n){if(this.tooltip.hasClass(p))return f;clearTimeout(this.timers.show);clearTimeout(this.timers.hide);var t=u.proxy(function(){this.toggle(e,n)},this.tooltip);this.options.show.delay>0?this.timers.show=setTimeout(t,this.options.show.delay):t()}function ki(n){var i;if(this.tooltip.hasClass(p))return f;var t=u(n.relatedTarget),r=t.closest(it)[0]===this.tooltip[0],e=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&this.options.position.target==="mouse"&&r||this.options.hide.fixed&&/mouse(out|leave|move)/.test(n.type)&&(r||e)){try{n.preventDefault();n.stopImmediatePropagation()}catch(o){}return}i=u.proxy(function(){this.toggle(f,n)},this.tooltip);this.options.hide.delay>0?this.timers.hide=setTimeout(i,this.options.hide.delay):i()}function ei(n){if(this.tooltip.hasClass(p)||!this.options.hide.inactive)return f;clearTimeout(this.timers.inactive);this.timers.inactive=setTimeout(u.proxy(function(){this.hide(n)},this),this.options.hide.inactive)}function di(n){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(n)}function gi(n,i,r){u(t.body).delegate(n,(i.split?i:i.join(oi+" "))+oi,function(){var n=l.api[u.attr(this,bt)];n&&!n.disabled&&r.apply(n,arguments)})}function ar(n,i,r){var y,s,v,o,b,k=u(t.body),p=n[0]===t?k:n,w=n.metadata?n.metadata(r.metadata):c,d=r.metadata.type==="html5"&&w?w[r.metadata.name]:c,a=n.data(r.metadata.name||"qtipopts");try{a=typeof a=="string"?u.parseJSON(a):a}catch(g){}if(o=u.extend(e,{},l.defaults,r,typeof a=="object"?dt(a):c,dt(d||w)),s=o.position,o.id=i,"boolean"==typeof o.content.text)if(v=n.attr(o.content.attr),o.content.attr!==f&&v)o.content.text=v;else return f;if(s.container.length||(s.container=k),s.target===f&&(s.target=p),o.show.target===f&&(o.show.target=p),o.show.solo===e&&(o.show.solo=s.container.closest("body")),o.hide.target===f&&(o.hide.target=p),o.position.viewport===e&&(o.position.viewport=s.container),s.container=s.container.eq(0),s.at=new tt(s.at,e),s.my=new tt(s.my),n.data(h))if(o.overwrite)n.qtip("destroy");else if(o.overwrite===f)return f;n.attr(hi,i);o.suppress&&(b=n.attr("title"))&&n.removeAttr("title").attr(rt,b).attr("title","");y=new ai(n,o,i,!!v);n.data(h,y);n.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var n;(n=u(this).data(h))&&n.destroy()});return y}function yt(n){return n.charAt(0).toUpperCase()+n.slice(1)}function yr(n,t){var u=t.charAt(0).toUpperCase()+t.slice(1),e=(t+" "+ir.join(u+" ")+u).split(" "),i,f,o=0;if(ii[t])return n.css(ii[t]);while(i=e[o++])if((f=n.css(i))!==r)return ii[t]=i,f}function ct(n,t){return parseInt(yr(n,t),10)}function rr(n,t){this._ns="tip";this.options=t;this.offset=t.offset;this.size=[t.width,t.height];this.init(this.qtip=n)}function ur(n,t){this.options=t;this._ns="-modal";this.init(this.qtip=n)}function or(n){this._ns="ie6";this.init(this.qtip=n)}var e=!0,f=!1,c=null,b="x",w="y",et="width",pt="height",y="top",v="left",g="bottom",k="right",a="center",sr="flipinvert",nt="shift",l,s,tt,wt,o={},h="qtip",hi="data-hasqtip",bt="data-qtip-id",hr=["ui-widget","ui-tooltip"],it="."+h,ci="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),li=h+"-fixed",fi=h+"-default",ot=h+"-focus",cr=h+"-hover",p=h+"-disabled",st="_replacedByqTip",rt="oldtitle",kt,pi,wi,lt,oi,ii,ir,ri,ft,ui,d,fr,er;BROWSER={ie:function(){for(var n=3,i=t.createElement("div");i.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->";)if(!i.getElementsByTagName("i")[0])break;return n>4?n:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||f};s=ai.prototype;s.render=function(n){if(this.rendered||this.destroyed)return this;var i=this,t=this.options,w=this.cache,a=this.elements,v=t.content.text,r=t.content.title,b=t.content.button,s=t.position,y="."+this._id+" ",c=[];return u.attr(this.target[0],"aria-describedby",this._id),this.tooltip=a.tooltip=tooltip=u("<div/>",{id:this._id,"class":[h,fi,t.style.classes,h+"-pos-"+t.position.my.abbrev()].join(" "),width:t.style.width||"",height:t.style.height||"",tracking:s.target==="mouse"&&s.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":f,"aria-describedby":this._id+"-content","aria-hidden":e}).toggleClass(p,this.disabled).attr(bt,this.id).data(h,this).appendTo(s.container).append(a.content=u("<div />",{"class":h+"-content",id:this._id+"-content","aria-atomic":e})),this.rendered=-1,this.positioning=e,r&&(this._createTitle(),u.isFunction(r)||c.push(this._updateTitle(r,f))),b&&this._createButton(),u.isFunction(v)||c.push(this._updateContent(v,f)),this.rendered=e,this._setWidget(),u.each(t.events,function(n,t){u.isFunction(t)&&tooltip.bind((n==="toggle"?["tooltipshow","tooltiphide"]:["tooltip"+n]).join(y)+y,t)}),u.each(o,function(n){var t;this.initialize==="render"&&(t=this(i))&&(i.plugins[n]=t)}),this._assignEvents(),u.when.apply(u,c).then(function(){i._trigger("render");i.positioning=f;!i.hiddenDuringWait&&(t.show.ready||n)&&i.toggle(e,w.event,f);i.hiddenDuringWait=f}),l.api[this.id]=this,this};s.destroy=function(n){function t(){if(!this.destroyed){this.destroyed=e;var n=this.target,t=n.attr(rt);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();u.each(this.plugins,function(){this.destroy&&this.destroy()});clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this._unassignEvents();n.removeData(h).removeAttr(bt).removeAttr("aria-describedby");this.options.suppress&&t&&n.attr("title",t).removeAttr(rt);this._unbind(n);this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=c;delete l.api[this.id]}}if(this.destroyed)return this.target;if(n!==e&&this.rendered){tooltip.one("tooltiphidden",u.proxy(t,this));this.triggering||this.hide()}else t.call(this);return this.target};wt=s.checks={builtin:{"^id$":function(n,t,i,r){var o=i===e?l.nextid:i,s=h+"-"+o;o!==f&&o.length>0&&!u("#"+s).length?(this._id=s,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):n[t]=r},"^prerender":function(n,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(n,t,i){this._updateContent(i)},"^content.attr$":function(n,t,i,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(i))},"^content.title$":function(n,t,i){if(!i)return this._removeTitle();i&&!this.elements.title&&this._createTitle();this._updateTitle(i)},"^content.button$":function(n,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(n,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(n,t,i){"string"==typeof i&&(n[t]=new tt(i,t==="at"))},"^position.container$":function(n,t,i){this.tooltip.appendTo(i)},"^show.ready$":function(n,t,i){i&&(!this.rendered&&this.render(e)||this.toggle(e))},"^style.classes$":function(n,t,i,r){this.tooltip.removeClass(r).addClass(i)},"^style.width|height":function(n,t,i){this.tooltip.css(t,i)},"^style.widget|content.title":function(){this._setWidget()},"^style.def":function(n,t,i){this.tooltip.toggleClass(fi,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(n,t,i){tooltip[(u.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var n=this.options.position;tooltip.attr("tracking",n.target==="mouse"&&n.adjust.mouse);this._unassignEvents();this._assignEvents()}}};s.get=function(n){if(this.destroyed)return this;var i=yi(this.options,n.toLowerCase()),t=i[0][i[1]];return t.precedance?t.string():t};pi=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i;wi=/^prerender|show\.ready/i;s.set=function(n,t){if(this.destroyed)return this;var s=this.rendered,i=f,r=this.options,h=this.checks,o;return"string"==typeof n?(o=n,n={},n[o]=t):n=u.extend({},n),u.each(n,function(t,f){if(!s&&!wi.test(t)){delete n[t];return}var e=yi(r,t.toLowerCase()),o;o=e[0][e[1]];e[0][e[1]]=f&&f.nodeType?u(f):f;i=pi.test(t)||i;n[t]=[e[0],e[1],f,o]}),dt(r),this.positioning=e,u.each(n,u.proxy(lr,this)),this.positioning=f,this.rendered&&this.tooltip[0].offsetWidth>0&&i&&this.reposition(r.position.target==="mouse"?c:this.cache.event),this};s._update=function(n,t){var r=this,i=this.cache;return!this.rendered||!n?f:(u.isFunction(n)&&(n=n.call(this.elements.target,i.event,this)||""),u.isFunction(n.then))?(i.waiting=e,n.then(function(n){return i.waiting=f,r._update(n,t)},c,function(n){return r._update(n,t)})):n===f||!n&&n!==""?f:(n.jquery&&n.length>0?t.children().detach().end().append(n.css({display:"block"})):t.html(n),i.waiting=e,(u.fn.imagesLoaded?t.imagesLoaded():u.Deferred().resolve(u([]))).done(function(n){i.waiting=f;n.length&&r.rendered&&r.tooltip[0].offsetWidth>0&&r.reposition(i.event,!n.length)}).promise())};s._updateContent=function(n,t){this._update(n,this.elements.content,t)};s._updateTitle=function(n,t){this._update(n,this.elements.title,t)===f&&this._removeTitle(f)};s._createTitle=function(){var n=this.elements,t=this._id+"-title";n.titlebar&&this._removeTitle();n.titlebar=u("<div />",{"class":h+"-titlebar "+(this.options.style.widget?gt("header"):"")}).append(n.title=u("<div />",{id:t,"class":h+"-title","aria-atomic":e})).insertBefore(n.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(n){u(this).toggleClass("ui-state-active ui-state-focus",n.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(n){u(this).toggleClass("ui-state-hover",n.type==="mouseover")});this.options.content.button&&this._createButton()};s._removeTitle=function(n){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=c,n!==f&&this.reposition())};s.reposition=function(i,r){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=e;var w=this.cache,d=this.tooltip,c=this.options.position,h=c.target,ut=c.my,b=c.at,ft=c.viewport,ot=c.container,nt=c.adjust,lt=nt.method.split(" "),st=d.outerWidth(f),ht=d.outerHeight(f),tt=0,it=0,at=d.css("position"),s={left:0,top:0},vt=d[0].offsetWidth>0,yt=i&&i.type==="scroll",et=u(n),ct=ot[0].ownerDocument,rt=this.mouse,l,p;if(u.isArray(h)&&h.length===2)b={x:v,y:y},s={left:h[0],top:h[1]};else if(h==="mouse"&&(i&&i.pageX||w.event.pageX))b={x:v,y:y},i=rt&&rt.pageX&&(nt.mouse||!i||!i.pageX)?rt:(i&&(i.type==="resize"||i.type==="scroll")?w.event:i&&i.pageX&&i.type==="mousemove"?i:(!nt.mouse||this.options.show.distance)&&w.origin&&w.origin.pageX?w.origin:i)||i||w.event||rt||{},at!=="static"&&(s=ot.offset()),ct.body.offsetWidth!==(n.innerWidth||ct.documentElement.clientWidth)&&(p=u(ct.body).offset()),s={left:i.pageX-s.left+(p&&p.left||0),top:i.pageY-s.top+(p&&p.top||0)},nt.mouse&&yt&&(s.left-=rt.scrollX-et.scrollLeft(),s.top-=rt.scrollY-et.scrollTop());else{if(h==="event"&&i&&i.target&&i.type!=="scroll"&&i.type!=="resize"?w.target=u(i.target):h!=="event"&&(w.target=u(h.jquery?h:elements.target)),h=w.target,h=u(h).eq(0),h.length===0)return this;h[0]===t||h[0]===n?(tt=BROWSER.iOS?n.innerWidth:h.width(),it=BROWSER.iOS?n.innerHeight:h.height(),h[0]===n&&(s={top:(ft||h).scrollTop(),left:(ft||h).scrollLeft()})):o.imagemap&&h.is("area")?l=o.imagemap(this,h,b,o.viewport?lt:f):o.svg&&h[0].ownerSVGElement?l=o.svg(this,h,b,o.viewport?lt:f):(tt=h.outerWidth(f),it=h.outerHeight(f),s=h.offset());l&&(tt=l.width,it=l.height,p=l.offset,s=l.position);s=this.reposition.offset(h,s,ot);(BROWSER.iOS>3.1&&BROWSER.iOS<4.1||BROWSER.iOS>=4.3&&BROWSER.iOS<4.33||!BROWSER.iOS&&at==="fixed")&&(s.left-=et.scrollLeft(),s.top-=et.scrollTop());(!l||l&&l.adjustable!==f)&&(s.left+=b.x===k?tt:b.x===a?tt/2:0,s.top+=b.y===g?it:b.y===a?it/2:0)}return(s.left+=nt.x+(ut.x===k?-st:ut.x===a?-st/2:0),s.top+=nt.y+(ut.y===g?-ht:ut.y===a?-ht/2:0),o.viewport?(s.adjusted=o.viewport(this,s,c,tt,it,st,ht),p&&s.adjusted.left&&(s.left+=p.left),p&&s.adjusted.top&&(s.top+=p.top)):s.adjusted={left:0,top:0},!this._trigger("move",[s,ft.elem||ft],i))?this:(delete s.adjusted,r===f||!vt||isNaN(s.left)||isNaN(s.top)||h==="mouse"||!u.isFunction(c.effect)?d.css(s):u.isFunction(c.effect)&&(c.effect.call(d,this,u.extend({},s)),d.queue(function(n){u(this).css({opacity:"",height:""});BROWSER.ie&&this.style.removeAttribute("filter");n()})),this.positioning=f,this)};s.reposition.offset=function(n,i,r){function l(n,t){i.left+=t*n.scrollLeft();i.top+=t*n.scrollTop()}if(!r[0])return i;var s=u(n[0].ownerDocument),a=!!BROWSER.ie&&t.compatMode!=="CSS1Compat",f=r[0],o,h,e,c;do(h=u.css(f,"position"))!=="static"&&(h==="fixed"?(e=f.getBoundingClientRect(),l(s,-1)):(e=u(f).position(),e.left+=parseFloat(u.css(f,"borderLeftWidth"))||0,e.top+=parseFloat(u.css(f,"borderTopWidth"))||0),i.left-=e.left+(parseFloat(u.css(f,"marginLeft"))||0),i.top-=e.top+(parseFloat(u.css(f,"marginTop"))||0),o||(c=u.css(f,"overflow"))==="hidden"||c==="visible"||(o=u(f)));while(f=f.offsetParent);return o&&(o[0]!==s[0]||a)&&l(o,1),i};lt=(tt=s.reposition.Corner=function(n,t){n=(""+n).replace(/([A-Z])/," $1").replace(/middle/gi,a).toLowerCase();this.x=(n.match(/left|right/i)||n.match(/center/)||["inherit"])[0].toLowerCase();this.y=(n.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!t;var i=n.charAt(0);this.precedance=i==="t"||i==="b"?w:b}).prototype;lt.invert=function(n,t){this[n]=this[n]===v?k:this[n]===k?v:t||this[n]};lt.string=function(){var n=this.x,t=this.y;return n===t?n:this.precedance===w||this.forceY&&t!=="center"?t+" "+n:n+" "+t};lt.abbrev=function(){var n=this.string().split(" ");return n[0].charAt(0)+(n[1]&&n[1].charAt(0)||"")};lt.clone=function(){return new tt(this.string(),this.forceY)};s.toggle=function(n,i){var s=this.cache,p=this.options,r=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(s.event.type)&&p.show.target.add(i.target).length===p.show.target.length&&r.has(i.relatedTarget).length)return this;s.event=u.extend({},i)}if(this.waiting&&!n&&(this.hiddenDuringWait=e),this.rendered){if(this.destroyed||this.disabled)return this}else return n?this.render(1):this;var a=n?"show":"hide",o=this.options[a],nt=this.options[n?"hide":"show"],w=this.options.position,l=this.options.content,b=this.tooltip.css("width"),k=this.tooltip[0].offsetWidth>0,d=n||o.target.length===1,g=!i||o.target.length<2||s.target[0]===i.target,v,y;return((typeof n).search("boolean|number")&&(n=!k),v=!r.is(":animated")&&k===n&&g,y=v?c:!!this._trigger(a,[90]),y!==f&&n&&this.focus(i),!y||v)?this:(u.attr(r[0],"aria-hidden",!!!n),n?(s.origin=u.extend({},this.mouse),u.isFunction(l.text)&&this._updateContent(l.text,f),u.isFunction(l.title)&&this._updateTitle(l.title,f),!kt&&w.target==="mouse"&&w.adjust.mouse&&(u(t).bind("mousemove."+h,this._storeMouse),kt=e),b||r.css("width",r.outerWidth(f)),this.reposition(i,arguments[2]),b||r.css("width",""),!o.solo||(typeof o.solo=="string"?u(o.solo):u(it,o.solo)).not(r).not(o.target).qtip("hide",u.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete s.origin,kt&&!u(it+'[tracking="true"]:visible',o.solo).not(r).length&&(u(t).unbind("mousemove."+h),kt=f),this.blur(i)),after=u.proxy(function(){n?(BROWSER.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof o.autofocus&&u(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(n?"visible":"hidden")},this),o.effect===f||d===f?(r[a](),after()):u.isFunction(o.effect)?(r.stop(1,1),o.effect.call(r,this),r.queue("fx",function(n){after();n()})):r.fadeTo(90,n?1:0,after),n&&o.target.trigger("qtip-"+this.id+"-inactive"),this)};s.show=function(n){return this.toggle(e,n)};s.hide=function(n){return this.toggle(f,n)};s.focus=function(n){if(!this.rendered||this.destroyed)return this;var t=u(it),i=this.tooltip,f=parseInt(i[0].style.zIndex,10),r=l.zindex+t.length;return i.hasClass(ot)||this._trigger("focus",[r],n)&&(f!==r&&(t.each(function(){this.style.zIndex>f&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+ot).qtip("blur",n)),i.addClass(ot)[0].style.zIndex=r),this};s.blur=function(n){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(ot),this._trigger("blur",[this.tooltip.css("zIndex")],n),this)};s.disable=function(n){return this.destroyed?this:("boolean"!=typeof n&&(n=!(this.tooltip.hasClass(p)||this.disabled)),this.rendered&&this.tooltip.toggleClass(p,n).attr("aria-disabled",n),this.disabled=!!n,this)};s.enable=function(){return this.disable(f)};s._createButton=function(){var e=this,n=this.elements,i=n.tooltip,t=this.options.content.button,o=typeof t=="string",r=o?t:"Close tooltip";n.button&&n.button.remove();n.button=t.jquery?t:u("<a />",{"class":"qtip-close "+(this.options.style.widget?"":h+"-icon"),title:r,"aria-label":r}).prepend(u("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));n.button.appendTo(n.titlebar||i).attr("role","button").click(function(n){return i.hasClass(p)||e.hide(n),f})};s._updateButton=function(n){if(!this.rendered)return f;var t=this.elements.button;n?this._createButton():t.remove()};s._setWidget=function(){var t=this.options.style.widget,n=this.elements,i=n.tooltip,r=i.hasClass(p);i.removeClass(p);p=t?"ui-state-disabled":"qtip-disabled";i.toggleClass(p,r);i.toggleClass("ui-helper-reset "+gt(),t).toggleClass(fi,this.options.style.def&&!t);n.content&&n.content.toggleClass(gt("content"),t);n.titlebar&&n.titlebar.toggleClass(gt("header"),t);n.button&&n.button.toggleClass(h+"-icon",!t)};s._storeMouse=function(i){this.mouse={pageX:i.pageX,pageY:i.pageY,type:"mousemove",scrollX:n.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:n.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}};s._bind=function(n,t,i,r,f){var e="."+this._id+(r?"-"+r:"");t.length&&u(n).bind((t.split?t:t.join(e+" "))+e,u.proxy(i,f||this))};s._unbind=function(n,t){u(n).unbind("."+this._id+(t?"-"+t:""))};oi="."+h;u(function(){gi(it,["mouseenter","mouseleave"],function(n){var r=n.type==="mouseenter",i=u(n.currentTarget),f=u(n.relatedTarget||n.target),t=this.options;r?(this.focus(n),i.hasClass(li)&&!i.hasClass(p)&&clearTimeout(this.timers.hide)):t.position.target==="mouse"&&t.hide.event&&t.show.target&&!f.closest(t.show.target[0]).length&&this.hide(n);i.toggleClass(cr,r)});gi("["+bt+"]",ci,ei)});s._trigger=function(n,t,i){var r=u.Event("tooltip"+n);return r.originalEvent=i&&u.extend({},i)||this.cache.event||c,this.triggering=e,this.tooltip.trigger(r,[this].concat(t||[])),this.triggering=f,!r.isDefaultPrevented()};s._assignEvents=function(){var i=this.options,r=i.position,o=this.tooltip,e=i.show.target,f=i.hide.target,w=r.container,c=r.viewport,a=u(t),b=u(t.body),v=u(n),s=i.show.event?u.trim(""+i.show.event).split(" "):[],h=i.hide.event?u.trim(""+i.hide.event).split(" "):[],y=[];/mouse(out|leave)/i.test(i.hide.event)&&i.hide.leave==="window"&&this._bind(a,["mouseout","blur"],function(n){/select|option/.test(n.target.nodeName)||n.relatedTarget||this.hide(n)});i.hide.fixed?f=f.add(o.addClass(li)):/mouse(over|enter)/i.test(i.show.event)&&this._bind(f,"mouseleave",function(){clearTimeout(this.timers.show)});(""+i.hide.event).indexOf("unfocus")>-1&&this._bind(w.closest("html"),["mousedown","touchstart"],function(n){var t=u(n.target),i=this.rendered&&!this.tooltip.hasClass(p)&&this.tooltip[0].offsetWidth>0,r=t.parents(it).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||r||this.target.has(t[0]).length||!i||this.hide(n)});"number"==typeof i.hide.inactive&&(this._bind(e,"qtip-"+this.id+"-inactive",ei),this._bind(f.add(o),l.inactiveEvents,ei,"-inactive"));h=u.map(h,function(n){var t=u.inArray(n,s);if(t>-1&&f.add(e).length===f.length){y.push(s.splice(t,1)[0]);return}return n});this._bind(e,s,bi);this._bind(f,h,ki);this._bind(e,y,function(n){(this.tooltip[0].offsetWidth>0?ki:bi).call(this,n)});this._bind(e.add(o),"mousemove",function(n){if("number"==typeof i.hide.distance){var t=this.cache.origin||{},r=this.options.hide.distance,u=Math.abs;(u(n.pageX-t.pageX)>=r||u(n.pageY-t.pageY)>=r)&&this.hide(n)}this._storeMouse(n)});r.target==="mouse"&&r.adjust.mouse&&(i.hide.event&&this._bind(e,["mouseenter","mouseleave"],function(n){this.cache.onTarget=n.type==="mouseenter"}),this._bind(a,"mousemove",function(n){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(p)&&this.tooltip[0].offsetWidth>0&&this.reposition(n)}));(r.adjust.resize||c.length)&&this._bind(u.event.special.resize?c:v,"resize",di);r.adjust.scroll&&this._bind(v.add(r.container),"scroll",di)};s._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],n,t];this.rendered?this._unbind(u([]).pushStack(u.grep(i,function(n){return typeof n=="object"}))):u(i[0]).unbind("."+this._id+"-create")};l=u.fn.qtip=function(n,t,i){var o=(""+n).toLowerCase(),v=c,y=u.makeArray(arguments).slice(1),s=y[y.length-1],a=this[0]?u.data(this[0],h):c;return!arguments.length&&a||o==="api"?a:"string"==typeof n?(this.each(function(){var n=u.data(this,h);if(!n)return e;if(s&&s.timeStamp&&(n.cache.event=s),t&&(o==="option"||o==="options"))if(i!==r||u.isPlainObject(t))n.set(t,i);else return v=n.get(t),f;else n[o]&&n[o].apply(n,y)}),v!==c?v:this):"object"==typeof n||!arguments.length?(a=dt(u.extend(e,{},n)),l.bind.call(this,a,s)):void 0};l.bind=function(n,t){return this.each(function(i){function p(n){function t(){s.render(typeof n=="object"||h.show.ready);y.show.add(y.hide).unbind(v)}if(s.disabled)return f;s.cache.event=u.extend({},n);s.cache.target=n?u(n.target):[r];h.show.delay>0?(clearTimeout(s.timers.show),s.timers.show=setTimeout(t,h.show.delay),a.show!==a.hide&&y.hide.bind(a.hide,function(){clearTimeout(s.timers.show)})):t()}var h,y,a,v,s,c;if(c=u.isArray(n.id)?n.id[i]:n.id,c=!c||c===f||c.length<1||l.api[c]?l.nextid++:c,v=".qtip-"+c+"-create",s=ar(u(this),c,n),s===f)return e;l.api[c]=s;h=s.options;u.each(o,function(){this.initialize==="initialize"&&this(s)});y={show:h.show.target,hide:h.hide.target};a={show:u.trim(""+h.show.event).replace(/ /g,v+" ")+v,hide:u.trim(""+h.hide.event).replace(/ /g,v+" ")+v};/mouse(over|enter)/i.test(a.show)&&!/mouse(out|leave)/i.test(a.hide)&&(a.hide+=" mouseleave"+v);y.show.bind("mousemove"+v,function(n){s._storeMouse(n);s.cache.onTarget=e});y.show.bind(a.show,p);(h.show.ready||h.prerender)&&p(t)})};l.api={};u.each({attr:function(n,t){if(this.length){var r=this[0],f="title",i=u.data(r,"qtip");if(n===f&&i&&"object"==typeof i&&i.options.suppress)return arguments.length<2?u.attr(r,rt):(i&&i.options.content.attr===f&&i.cache.attr&&i.set("content.text",t),this.attr(rt,t))}return u.fn["attr"+st].apply(this,arguments)},clone:function(n){var i=u([]),t=u.fn["clone"+st].apply(this,arguments);return n||t.filter("["+rt+"]").attr("title",function(){return u.attr(this,rt)}).removeAttr(rt),t}},function(n,t){if(!t||u.fn[n+st])return e;var i=u.fn[n+st]=u.fn[n];u.fn[n]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}});u.ui||(u["cleanData"+st]=u.cleanData,u.cleanData=function(n){for(var i=0,t;(t=u(n[i])).length;i++)if(t.attr(hi))try{t.triggerHandler("removeqtip")}catch(r){}u["cleanData"+st].apply(this,arguments)});l.version="2.1.1";l.nextid=0;l.inactiveEvents=ci;l.zindex=15e3;l.defaults={prerender:f,id:f,overwrite:e,suppress:e,content:{text:e,attr:"title",title:f,button:f},position:{my:"top left",at:"bottom right",target:f,container:f,viewport:f,adjust:{x:0,y:0,mouse:e,scroll:e,resize:e,method:"flipinvert flipinvert"},effect:function(n,t){u(this).animate(t,{duration:200,queue:f})}},show:{target:f,event:"mouseenter",effect:e,delay:90,solo:f,ready:f,autofocus:f},hide:{target:f,event:"mouseleave",effect:e,delay:0,fixed:f,inactive:f,leave:"window",distance:f},style:{classes:"",widget:f,width:f,height:f,def:e},events:{render:c,move:c,show:c,hide:c,toggle:c,visible:c,hidden:c,focus:c,blur:c}};var si,at="margin",ni="border",vt="color",ht="background-color",nr="transparent",tr=" !important",ti=!!t.createElement("canvas").getContext,vr=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i;ii={};ir=["Webkit","O","Moz","ms"];ti||(createVML=function(n,t,i){return"<qtipvml:"+n+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'});u.extend(rr.prototype,{init:function(n){var t,i;i=this.element=n.elements.tip=u("<div />",{"class":h+"-tip"}).prependTo(n.tooltip);ti?(t=u("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=100,t.save()):(t=createVML("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),n._bind(u("*",i).add(i),["click","mousedown"],function(n){n.stopPropagation()},this._ns));n._bind(n.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(n){var t=this.qtip.elements.titlebar;return t&&(n.y===y||n.y===a&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(e))},_parseCorner:function(n){var t=this.qtip.options.position.my;return n===f||t===f?n=f:n===e?n=new tt(t.string()):n.string||(n=new tt(n),n.fixed=e),n},_parseWidth:function(n,t,i){var u=this.qtip.elements,r=ni+yt(t)+"Width";return(i?ct(i,r):ct(u.content,r)||ct(this._useTitle(n)&&u.titlebar||u.content,r)||ct(tooltip,r))||0},_parseRadius:function(n){var t=this.qtip.elements,i=ni+yt(n.y)+yt(n.x)+"Radius";return BROWSER.ie<9?0:ct(this._useTitle(n)&&t.titlebar||t.content,i)||ct(t.tooltip,i)||0},_invalidColour:function(n,t,i){var r=n.css(t);return!r||i&&r===n.css(i)||vr.test(r)?f:r},_parseColours:function(n){var f=this.qtip.elements,i=this.element.css("cssText",""),r=ni+yt(n[n.precedance])+yt(vt),o=this._useTitle(n)&&f.titlebar||f.content,t=this._invalidColour,e=[];return e[0]=t(i,ht)||t(o,ht)||t(f.content,ht)||t(tooltip,ht)||i.css(ht),e[1]=t(i,r,vt)||t(o,r,vt)||t(f.content,r,vt)||t(tooltip,r,vt)||tooltip.css(r),u("*",i).add(i).css("cssText",ht+":"+nr+tr+";"+ni+":0"+tr+";"),e},_calculateSize:function(n){var u=n.precedance===w,s=this.options[u?"height":"width"],f=this.options[u?"width":"height"],h=n.abbrev()==="c",c=s*(h?.5:1),i=Math.pow,l=Math.round,a,e,o,r=Math.sqrt(i(c,2)+i(f,2)),t=[this.border/c*r,this.border/f*r];return t[2]=Math.sqrt(i(t[0],2)-i(this.border,2)),t[3]=Math.sqrt(i(t[1],2)-i(this.border,2)),a=r+t[2]+t[3]+(h?0:t[0]),e=a/r,o=[l(e*s),l(e*f)],u?o:o.reverse()},_calculateTip:function(n){var t=this.size[0],i=this.size[1],u=Math.ceil(t/2),f=Math.ceil(i/2),r={br:[0,0,t,i,t,0],bl:[0,0,t,0,0,i],tr:[0,i,t,0,t,i],tl:[0,0,0,i,t,i],tc:[0,i,u,0,t,i],bc:[0,0,t,0,u,i],rc:[0,0,t,f,0,i],lc:[t,0,t,i,0,f]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[n.abbrev()]},create:function(){var n=this.corner=(ti||BROWSER.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&this.corner.abbrev()!=="c")&&(this.qtip.cache.corner=n.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(n,t){if(!this.enabled)return this;var ft=this.qtip.elements,ut=this.element,it=ut.children(),d=this.options,h=this.size,i=d.mimic,nt=Math.round,l,rt,o,s,p,c,r;n||(n=this.qtip.cache.corner||this.corner);i===f?i=n:(i=new tt(i),i.precedance=n.precedance,i.x==="inherit"?i.x=n.x:i.y==="inherit"?i.y=n.y:i.x===i.y&&(i[n.precedance]=n[n.precedance]));rt=i.precedance;n.precedance===b?this._swapDimensions():this._resetDimensions();l=this.color=this._parseColours(n);l[1]!==nr?(r=this.border=this._parseWidth(n,n[n.precedance]),d.border&&r<1&&(l[0]=l[1]),this.border=r=d.border!==e?d.border:r):this.border=r=0;s=this._calculateTip(i);c=this.size=this._calculateSize(n);ut.css({width:c[0],height:c[1],lineHeight:c[1]+"px"});p=n.precedance===w?[nt(i.x===v?r:i.x===k?c[0]-h[0]-r:(c[0]-h[0])/2),nt(i.y===y?c[1]-h[1]:0)]:[nt(i.x===v?c[0]-h[0]:0),nt(i.y===y?r:i.y===g?c[1]-h[1]-r:(c[1]-h[1])/2)];ti?(it.attr(et,c[0]).attr(pt,c[1]),o=it[0].getContext("2d"),o.restore(),o.save(),o.clearRect(0,0,3e3,3e3),o.fillStyle=l[0],o.strokeStyle=l[1],o.lineWidth=r*2,o.translate(p[0],p[1]),o.beginPath(),o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]),o.lineTo(s[4],s[5]),o.closePath(),r&&(tooltip.css("background-clip")==="border-box"&&(o.strokeStyle=l[0],o.stroke()),o.strokeStyle=l[1],o.stroke()),o.fill()):(s="m"+s[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",p[2]=r&&/^(r|b)/i.test(n.string())?BROWSER.ie===8?2:1:0,it.css({coordsize:h[0]+r+" "+(h[1]+r),antialias:""+(i.string().indexOf(a)>-1),left:p[0]-p[2]*Number(rt===b),top:p[1]-p[2]*Number(rt===w),width:h[0]+r,height:h[1]+r}).each(function(n){var t=u(this);t[t.prop?"prop":"attr"]({coordsize:h[0]+r+" "+(h[1]+r),path:s,fillcolor:l[0],filled:!!n,stroked:!n}).toggle(!!(r||n));n||t.html(createVML("stroke",'weight="'+r*2+'px" color="'+l[1]+'" miterlimit="1000" joinstyle="miter"'))}));t!==f&&this.calculate(n)},calculate:function(n){if(!this.enabled)return f;var r=this,s=this.qtip.elements,c=this.element,h=this.options.offset,l=this.qtip.tooltip.hasClass("ui-widget"),t={},i,e,o;return n=n||this.corner,i=n.precedance,e=this._calculateSize(n),o=[n.x,n.y],i===b&&o.reverse(),u.each(o,function(u,f){var o,l,c;f===a?(o=i===w?v:y,t[o]="50%",t[at+"-"+o]=-Math.round(e[i===w?0:1]/2)+h):(o=r._parseWidth(n,f,s.tooltip),l=r._parseWidth(n,f,s.content),c=r._parseRadius(n),t[f]=Math.max(-r.border,u?l:h+(c>o?c:-o)))}),t[n[i]]-=e[i===b?0:1],c.css({margin:"",top:"",bottom:"",left:"",right:""}).css(t),t},reposition:function(n,t,i){if(this.enabled){var l=t.cache,o=this.corner.clone(),s=i.adjusted,it=t.options.position.adjust.method.split(" "),d=it[0],tt=it[1]||it[0],h={left:f,top:f,x:0,y:0},u,p={},c;this.corner.fixed!==e&&(d===nt&&o.precedance===b&&s.left&&o.y!==a?o.precedance=o.precedance===b?w:b:d!==nt&&s.left&&(o.x=o.x===a?s.left>0?v:k:o.x===v?k:v),tt===nt&&o.precedance===w&&s.top&&o.x!==a?o.precedance=o.precedance===w?b:w:tt!==nt&&s.top&&(o.y=o.y===a?s.top>0?y:g:o.y===y?g:y),o.string()!==l.corner.string()&&(l.cornerTop!==s.top||l.cornerLeft!==s.left)&&this.update(o,f));u=this.calculate(o,s);u.right!==r&&(u.left=-u.right);u.bottom!==r&&(u.top=-u.bottom);u.user=this.offset;(h.left=d===nt&&!!s.left)&&(o.x===a?p[at+"-left"]=h.x=u[at+"-left"]-s.left:(c=u.right!==r?[s.left,-u.left]:[-s.left,u.left],(h.x=Math.max(c[0],c[1]))>c[0]&&(i.left-=s.left,h.left=f),p[u.right!==r?k:v]=h.x));(h.top=tt===nt&&!!s.top)&&(o.y===a?p[at+"-top"]=h.y=u[at+"-top"]-s.top:(c=u.bottom!==r?[s.top,-u.top]:[-s.top,u.top],(h.y=Math.max(c[0],c[1]))>c[0]&&(i.top-=s.top,h.top=f),p[u.bottom!==r?g:y]=h.y));this.element.css(p).toggle(!(h.x&&h.y||o.x===a&&h.y||o.y===a&&h.x));i.left-=u.left.charAt?u.user:d!==nt||h.top||!h.left&&!h.top?u.left:0;i.top-=u.top.charAt?u.user:tt!==nt||h.left||!h.left&&!h.top?u.top:0;l.cornerLeft=s.left;l.cornerTop=s.top;l.corner=o.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});si=o.tip=function(n){return new rr(n,n.options.style.tip)};si.initialize="render";si.sanitize=function(n){n.style&&"tip"in n.style&&(opts=n.style.tip,typeof opts!="object"&&(opts=n.style.tip={corner:opts}),/string|boolean/i.test(typeof opts.corner)||(opts.corner=e))};wt.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(n){this.size=size=[n.width,n.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};u.extend(e,l.defaults,{style:{tip:{corner:e,mimic:f,width:6,height:6,border:e,offset:0}}});o.viewport=function(i,r,u,e,o,s,c){function vt(n,t,i,u,f,e,o,s,h){var v=r[f],c=it[n],g=yt[n],ut=i===nt,rt=-d.offset[f]+l.offset[f]+l["scroll"+f],ft=c===f?h:c===e?-h:-h/2,ot=g===f?s:g===e?-s:-s/2,et=p&&p.size?p.size[o]||0:0,w=p&&p.corner&&p.corner.precedance===n&&!ut?et:0,k=rt-v+w,b=v+h-l[o]-rt+w,y=ft-(it.precedance===n||c===it[t]?ot:0)-(g===a?s/2:0);return ut?(w=p&&p.corner&&p.corner.precedance===t?et:0,y=(c===f?1:-1)*ft-w,r[f]+=k>0?k:b>0?-b:0,r[f]=Math.max(-d.offset[f]+l.offset[f]+(w&&p.corner[n]===a?p.offset:0),v-y,Math.min(Math.max(-d.offset[f]+l.offset[f]+l[o],v+y),r[f]))):(u*=i===sr?2:0,k>0&&(c!==f||b>0)?(r[f]-=y+u,tt.invert(n,f)):b>0&&(c!==e||k>0)&&(r[f]-=(c===a?-y:y)+u,tt.invert(n,e)),r[f]<rt&&-r[f]>b&&(r[f]=v,tt=it.clone())),r[f]-v}var ct=u.target,lt=i.elements.tooltip,it=u.my,yt=u.at,rt=u.adjust,ut=rt.method.split(" "),ft=ut[0],ot=ut[1]||ut[0],l=u.viewport,d=u.container,wt=i.cache,p=i.plugins.tip,st={left:0,top:0},ht,tt,at;return!l.jquery||ct[0]===n||ct[0]===t.body||rt.method==="none"?st:(ht=lt.css("position")==="fixed",l={elem:l,width:l[0]===n?l.width():l.outerWidth(f),height:l[0]===n?l.height():l.outerHeight(f),scrollleft:ht?0:l.scrollLeft(),scrolltop:ht?0:l.scrollTop(),offset:l.offset()||{left:0,top:0}},d={elem:d,scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),offset:d.offset()||{left:0,top:0}},(ft!=="shift"||ot!=="shift")&&(tt=it.clone()),st={left:ft!=="none"?vt(b,w,ft,rt.x,v,k,et,e,s):0,top:ot!=="none"?vt(w,b,ot,rt.y,y,g,pt,o,c):0},tt&&wt.lastClass!==(at=h+"-pos-"+tt.abbrev())&&lt.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=at),st)};o.polys={polygon:function(n,t){for(var i={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:f},u=0,r,e=[],o=1,s=1,l=0,p=0,h,c,u=n.length;u--;)r=[parseInt(n[--u],10),parseInt(n[u+1],10)],r[0]>i.position.right&&(i.position.right=r[0]),r[0]<i.position.left&&(i.position.left=r[0]),r[1]>i.position.bottom&&(i.position.bottom=r[1]),r[1]<i.position.top&&(i.position.top=r[1]),e.push(r);if(h=i.width=Math.abs(i.position.right-i.position.left),c=i.height=Math.abs(i.position.bottom-i.position.top),t.abbrev()==="c")i.position={left:i.position.left+i.width/2,top:i.position.top+i.height/2};else{while(h>0&&c>0&&o>0&&s>0)for(h=Math.floor(h/2),c=Math.floor(c/2),t.x===v?o=h:t.x===k?o=i.width-h:o+=Math.floor(h/2),t.y===y?s=c:t.y===g?s=i.height-c:s+=Math.floor(c/2),u=e.length;u--;){if(e.length<2)break;l=e[u][0]-i.position.left;p=e[u][1]-i.position.top;(t.x===v&&l>=o||t.x===k&&l<=o||t.x===a&&(l<o||l>i.width-o)||t.y===y&&p>=s||t.y===g&&p<=s||t.y===a&&(p<s||p>i.height-s))&&e.splice(u,1)}i.position={left:e[0][0],top:e[0][1]}}return i},rect:function(n,t,i,r){return{width:Math.abs(i-n),height:Math.abs(r-t),position:{left:Math.min(n,i),top:Math.min(t,r)}}},_angles:{tc:3/2,tr:7/4,tl:5/4,bc:1/2,br:1/4,bl:3/4,rc:2,lc:1,c:0},ellipse:function(n,t,i,r,u){var e=o.polys._angles[u.abbrev()],s=i*Math.cos(e*Math.PI),h=r*Math.sin(e*Math.PI);return{width:i*2-Math.abs(s),height:r*2-Math.abs(h),position:{left:n+s,top:t+h},adjustable:f}},circle:function(n,t,i,r){return o.polys.ellipse(n,t,i,i,r)}};o.imagemap=function(n,t,i){t.jquery||(t=u(t));var s=t.attr("shape").toLowerCase().replace("poly","polygon"),r=u('img[usemap="#'+t.parent("map").attr("name")+'"]'),a=t.attr("coords"),h=a.split(","),e,c,l;if(!r.length)return f;if(s==="polygon")result=o.polys.polygon(h,i);else if(o.polys[s]){for(l=-1,len=h.length,c=[];++l<len;)c.push(parseInt(h[l],10));result=o.polys[s].apply(this,c.concat(i))}else return f;return e=r.offset(),e.left+=Math.ceil((r.outerWidth(f)-r.width())/2),e.top+=Math.ceil((r.outerHeight(f)-r.height())/2),result.position.left+=e.left,result.position.top+=e.top,result};o.svg=function(n,r,e){for(var v=u(t),s=r[0],h={},l,c,a;!s.getBBox;)s=s.parentNode;if(!s.getBBox||!s.parentNode)return f;switch(s.nodeName){case"rect":c=o.svg.toPixel(s,s.x.baseVal.value,s.y.baseVal.value);a=o.svg.toPixel(s,s.x.baseVal.value+s.width.baseVal.value,s.y.baseVal.value+s.height.baseVal.value);h=o.polys.rect(c[0],c[1],a[0],a[1],e);break;case"ellipse":case"circle":c=o.svg.toPixel(s,s.cx.baseVal.value,s.cy.baseVal.value);h=o.polys.ellipse(c[0],c[1],(s.rx||s.r).baseVal.value,(s.ry||s.r).baseVal.value,e);break;case"line":case"polygon":case"polyline":for(points=s.points||[{x:s.x1.baseVal.value,y:s.y1.baseVal.value},{x:s.x2.baseVal.value,y:s.y2.baseVal.value}],h=[],i=-1,len=points.numberOfItems||points.length;++i<len;)next=points.getItem?points.getItem(i):points[i],h.push.apply(h,o.svg.toPixel(s,next.x,next.y));h=o.polys.polygon(h,e);break;default:if(l=s.getBBox(),mtx=s.getScreenCTM(),root=s.farthestViewportElement||s,!root.createSVGPoint)return f;point=root.createSVGPoint();point.x=l.x;point.y=l.y;tPoint=point.matrixTransform(mtx);h.position={left:tPoint.x,top:tPoint.y};point.x+=l.width;point.y+=l.height;tPoint=point.matrixTransform(mtx);h.width=tPoint.x-h.position.left;h.height=tPoint.y-h.position.top}return h.position.left+=v.scrollLeft(),h.position.top+=v.scrollTop(),h};o.svg.toPixel=function(n,t,i){var o=n.getScreenCTM(),e=n.farthestViewportElement||n,u,r;return e.createSVGPoint?(r=e.createSVGPoint(),r.x=t,r.y=i,u=r.matrixTransform(o),[u.x,u.y]):f};ui="qtip-modal";d="."+ui;ft=function(){function v(n){if(u.expr[":"].focusable)return u.expr[":"].focusable;var e=!isNaN(u.attr(n,"tabindex")),t=n.nodeName&&n.nodeName.toLowerCase(),i,r,f;return"area"===t?(i=n.parentNode,r=i.name,!n.href||!r||i.nodeName.toLowerCase()!=="map")?!1:(f=u("img[usemap=#"+r+"]")[0],!!f&&f.is(":visible")):/input|select|textarea|button|object/.test(t)?!n.disabled:"a"===t?n.href||e:e}function l(n){s.length<1&&n.length?n.not("body").blur():s.first().focus()}function y(n){if(i.is(":visible")){var t=u(n.target),e=r.tooltip,o=t.closest(it),h;h=o.length<1?f:parseInt(o[0].style.zIndex,10)>parseInt(e[0].style.zIndex,10);h||t.closest(it)[0]===e[0]||l(t);a=n.target===s[s.length-1]}}var o=this,s={},r,a,h,i;u.extend(o,{init:function(){function e(){var n=u(this);i.css({height:n.height(),width:n.width()})}return i=o.elem=u("<div />",{id:"qtip-overlay",html:"<div><\/div>",mousedown:function(){return f}}).hide(),u(n).bind("resize"+d,e),e(),u(t.body).bind("focusin"+d,y),u(t).bind("keydown"+d,function(n){r&&r.options.show.modal.escape&&n.keyCode===27&&r.hide(n)}),i.bind("click"+d,function(n){r&&r.options.show.modal.blur&&r.hide(n)}),o},update:function(n){r=n;s=n.options.show.modal.stealfocus!==f?n.tooltip.find("*").filter(function(){return v(this)}):[]},toggle:function(n,s,a){var g=u(t.body),p=n.tooltip,v=n.options.show.modal,y=v.effect,w=s?"show":"hide",b=i.is(":visible"),k=u(d).filter(":visible:not(:animated)").not(p);return(o.update(n),s&&v.stealfocus!==f&&l(u(":focus")),i.toggleClass("blurs",v.blur),s&&i.css({left:0,top:0}).appendTo(t.body),i.is(":animated")&&b===s&&h!==f||!s&&k.length)?o:(i.stop(e,f),u.isFunction(y)?y.call(i,s):y===f?i[w]():i.fadeTo(parseInt(a,10)||90,s?1:0,function(){s||i.hide()}),s||i.queue(function(n){i.css({left:"",top:""});u(d).length||i.detach();n()}),h=s,r.destroyed&&(r=c),o)}});o.init()};ft=new ft;u.extend(ur.prototype,{init:function(n){var t=n.tooltip;if(!this.options.on)return this;n.elements.overlay=ft.elem;t.addClass(ui).css("z-index",o.modal.zindex+u(d).length);n._bind(t,["tooltipshow","tooltiphide"],function(n,i,r){var f=n.originalEvent;if(n.target===t[0])if(f&&n.type==="tooltiphide"&&/mouse(leave|enter)/.test(f.type)&&u(f.relatedTarget).closest(overlay[0]).length)try{n.preventDefault()}catch(e){}else f&&(!f||f.solo)||this.toggle(n,n.type==="tooltipshow",r)},this._ns,this);n._bind(t,"tooltipfocus",function(n,i){if(!n.isDefaultPrevented()&&n.target===t[0]){var r=u(d),f=o.modal.zindex+r.length,e=parseInt(t[0].style.zIndex,10);ft.elem[0].style.zIndex=f-1;r.each(function(){this.style.zIndex>e&&(this.style.zIndex-=1)});r.filter("."+ot).qtip("blur",n.originalEvent);t.addClass(ot)[0].style.zIndex=f;ft.update(i);try{n.preventDefault()}catch(s){}}},this._ns,this);n._bind(t,"tooltiphide",function(n){n.target===t[0]&&u(d).filter(":visible").not(t).last().qtip("focus",n)},this._ns,this)},toggle:function(n,t,i){if(n&&n.isDefaultPrevented())return this;ft.toggle(this.qtip,!!t,i)},destroy:function(){this.qtip.tooltip.removeClass(ui);this.qtip._unbind(this.qtip.tooltip,this._ns);ft.toggle(this.qtip,f);delete this.qtip.elements.overlay}});ri=o.modal=function(n){return new ur(n,n.options.show.modal)};ri.sanitize=function(n){n.show&&(typeof n.show.modal!="object"?n.show.modal={on:!!n.show.modal}:typeof n.show.modal.on=="undefined"&&(n.show.modal.on=e))};ri.zindex=l.zindex-200;ri.initialize="render";wt.modal={"^show.modal.(on|blur)$":function(){this.destroy();this.init();this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}};u.extend(e,l.defaults,{show:{modal:{on:f,effect:e,blur:e,stealfocus:e,escape:e}}});er='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"><\/iframe>';u.extend(or.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=u(n).scrollTop()+"px")},init:function(i){var r=i.tooltip;u("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=u(er).appendTo(r),i._bind(r,"tooltipmove",this.adjustBGIFrame,this._ns,this));this.redrawContainer=u("<div/>",{id:h+"-rcontainer"}).appendTo(t.body);i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(n,["scroll","resize"],this._scroll,this._ns,this),i._bind(r,["tooltipshow"],this._scroll,this._ns,this));this.redraw()},adjustBGIFrame:function(){var t=this.qtip.tooltip,e={height:t.outerHeight(f),width:t.outerWidth(f)},r=this.qtip.plugins.tip,u=this.qtip.elements.tip,i,n;n=parseInt(t.css("borderLeftWidth"),10)||0;n={left:-n,top:-n};r&&u&&(i=r.corner.precedance==="x"?[et,v]:[pt,y],n[i[1]]-=u[i[0]]());this.bgiframe.css(n).css(e)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return self;var t=this.qtip.tooltip,u=this.qtip.options.style,e=this.qtip.options.position.container,f,n,i,r;return this.qtip.drawing=1,u.height&&t.css(pt,u.height),u.width?t.css(et,u.width):(t.css(et,"").appendTo(this.redrawContainer),n=t.width(),n%2<1&&(n+=1),i=t.css("maxWidth")||"",r=t.css("minWidth")||"",f=(i+r).indexOf("%")>-1?e.width()/100:0,i=(i.indexOf("%")>-1?f:1)*parseInt(i,10)||n,r=(r.indexOf("%")>-1?f:1)*parseInt(r,10)||0,n=i+r?Math.min(Math.max(n,r),i):n,t.css(et,Math.round(n)).appendTo(e)),this.drawing=0,self},destroy:function(){this.bgiframe&&this.bgiframe.remove();this.qtip._unbind([n,this.qtip.tooltip],this._ns)}});fr=o.ie6=function(n){return BROWSER.ie===6?new or(n):f};fr.initialize="render";wt.ie6={"^content|style$":function(){this.redraw()}}})}(window,document)