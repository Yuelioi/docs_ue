/**
  @license html2canvas v0.34 <http://html2canvas.hertzen.com>
  Copyright (c) 2011 Niklas von Hertzen. All rights reserved.
  http://www.twitter.com/niklasvh
  Released under MIT License
 */
(function(n,t,i){"use strict";function u(t){r.logging&&n.console&&n.console.log&&n.console.log(t)}function o(n){return{zindex:n,children:[]}}function h(n,t){var i=[];return{storage:i,width:n,height:t,fillRect:function(){i.push({type:"function",name:"fillRect",arguments:arguments})},drawShape:function(){var n=[];return i.push({type:"function",name:"drawShape",arguments:n}),{moveTo:function(){n.push({name:"moveTo",arguments:arguments})},lineTo:function(){n.push({name:"lineTo",arguments:arguments})},bezierCurveTo:function(){n.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){n.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){i.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){i.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(n,t){i.push({type:"variable",name:n,arguments:t})}}}var r={},s,e,f;r.Util={};r.Util.backgroundImage=function(n){return/data:image\/.*;base64,/i.test(n)||/^(-webkit|-moz|linear-gradient|-o-)/.test(n)?n:(n.toLowerCase().substr(0,5)==='url("'?(n=n.substr(5),n=n.substr(0,n.length-2)):(n=n.substr(4),n=n.substr(0,n.length-1)),n)};r.Util.Bounds=function(n){var t,i={};if(n.getBoundingClientRect)return t=n.getBoundingClientRect(),i.top=t.top,i.bottom=t.bottom||t.top+t.height,i.left=t.left,i.width=t.width||t.right-t.left,i.height=t.height||t.bottom-t.top,i};r.Util.getCSS=function(r,u){function h(n,t){var u=r.runtimeStyle&&r.runtimeStyle[n],f,i=r.style;return(!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(t)&&/^-?\d/.test(t)&&(f=i.left,u&&(r.runtimeStyle.left=r.currentStyle.left),i.left=n==="fontSize"?"1em":t||0,t=i.pixelLeft+"px",i.left=f,u&&(r.runtimeStyle.left=u)),!/^(thin|medium|thick)$/i.test(t))?Math.round(parseFloat(t))+"px":t}var f,o;if(n.getComputedStyle)s!==r&&(e=t.defaultView.getComputedStyle(r,null)),f=e[u],u==="backgroundPosition"?(f=(f.split(",")[0]||"0 0").split(" "),f[0]=f[0].indexOf("%")===-1?h(u+"X",f[0]):f[0],f[1]=f[1]===i?f[0]:f[1],f[1]=f[1].indexOf("%")===-1?h(u+"Y",f[1]):f[1]):/border(Top|Bottom)(Left|Right)Radius/.test(u)&&(o=f.split(" "),o.length<=1&&(o[1]=o[0]),o[0]=parseInt(o[0],10),o[1]=parseInt(o[1],10),f=o);else if(r.currentStyle)if(u==="backgroundPosition")f=[h(u+"X",r.currentStyle[u+"X"]),h(u+"Y",r.currentStyle[u+"Y"])];else if(f=h(u,r.currentStyle[u]),/^(border)/i.test(u)&&/^(medium|thin|thick)$/i.test(f))switch(f){case"thin":f="1px";break;case"medium":f="0px";break;case"thick":f="5px"}return f};r.Util.BackgroundPosition=function(n,t,i){var u=r.Util.getCSS(n,"backgroundPosition"),e,o,f,s;return u.length===1&&(s=u,u=[],u[0]=s,u[1]=s),u[0].toString().indexOf("%")!==-1?(f=parseFloat(u[0])/100,o=t.width*f-i.width*f):o=parseInt(u[0],10),u[1].toString().indexOf("%")!==-1?(f=parseFloat(u[1])/100,e=t.height*f-i.height*f):e=parseInt(u[1],10),{top:e,left:o}};r.Util.Extend=function(n,t){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t};r.Util.Children=function(n){var t;try{t=n.nodeName&&n.nodeName.toUpperCase()==="IFRAME"?n.contentDocument||n.contentWindow.document:function(n){var t=[];return n!==null&&function(n,t){var u=n.length,r=0,f;if(typeof t.length=="number")for(f=t.length;r<f;r++)n[u++]=t[r];else while(t[r]!==i)n[u++]=t[r++];return n.length=u,n}(t,n),t}(n.childNodes)}catch(r){u("html2canvas.Util.Children failed with exception: "+r.message);t=[]}return t},function(){r.Generate={};var n=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/];r.Generate.parseGradient=function(t,i){for(var r,p=n.length,o,h,u,s,c,e,f=0;f<p;f+=1)if(o=t.match(n[f]),o)break;if(o)switch(o[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(r={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},u=o[2].match(/\w+/g),u)for(s=u.length,f=0;f<s;f+=1)switch(u[f]){case"top":r.y0=0;r.y1=i.height;break;case"right":r.x0=i.width;r.x1=0;break;case"bottom":r.y0=i.height;r.y1=0;break;case"left":r.x0=0;r.x1=i.width}if(r.x0===null&&r.x1===null&&(r.x0=r.x1=i.width/2),r.y0===null&&r.y1===null&&(r.y0=r.y1=i.height/2),u=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g),u)for(s=u.length,c=1/Math.max(s-1,1),f=0;f<s;f+=1)e=u[f].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h=e[2]?parseFloat(e[2])/(e[3]==="%"?100:i.width):f*c,r.colorStops.push({color:e[1],stop:h});break;case"-webkit-gradient":if(r={type:o[2]==="radial"?"circle":o[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},u=o[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),u&&(r.x0=u[1]*i.width/100,r.y0=u[2]*i.height/100,r.x1=u[3]*i.width/100,r.y1=u[4]*i.height/100),u=o[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g),u)for(s=u.length,f=0;f<s;f+=1)e=u[f].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),h=parseFloat(e[2]),e[1]==="from"&&(h=0),e[1]==="to"&&(h=1),r.colorStops.push({color:e[3],stop:h});break;case"-moz-linear-gradient":if(r={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},u=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),u&&(r.x0=u[1]*i.width/100,r.y0=u[2]*i.height/100,r.x1=i.width-r.x0,r.y1=i.height-r.y0),u=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g),u)for(s=u.length,c=1/Math.max(s-1,1),f=0;f<s;f+=1)e=u[f].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),e[2]?(h=parseFloat(e[2]),e[3]&&(h/=100)):h=f*c,r.colorStops.push({color:e[1],stop:h});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(r={type:"circle",x0:0,y0:0,x1:i.width,y1:i.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},u=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),u&&(r.cx=u[1]*i.width/100,r.cy=u[2]*i.height/100),u=o[3].match(/\w+/),e=o[4].match(/[a-z-]*/),u&&e)switch(e[0]){case"farthest-corner":case"cover":case"":var l=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.cy,2)),a=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.y1-r.cy,2)),v=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.y1-r.cy,2)),y=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.cy,2));r.rx=r.ry=Math.max(l,a,v,y);break;case"closest-corner":var l=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.cy,2)),a=Math.sqrt(Math.pow(r.cx,2)+Math.pow(r.y1-r.cy,2)),v=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.y1-r.cy,2)),y=Math.sqrt(Math.pow(r.x1-r.cx,2)+Math.pow(r.cy,2));r.rx=r.ry=Math.min(l,a,v,y);break;case"farthest-side":u[0]==="circle"?r.rx=r.ry=Math.max(r.cx,r.cy,r.x1-r.cx,r.y1-r.cy):(r.type=u[0],r.rx=Math.max(r.cx,r.x1-r.cx),r.ry=Math.max(r.cy,r.y1-r.cy));break;case"closest-side":case"contain":u[0]==="circle"?r.rx=r.ry=Math.min(r.cx,r.cy,r.x1-r.cx,r.y1-r.cy):(r.type=u[0],r.rx=Math.min(r.cx,r.x1-r.cx),r.ry=Math.min(r.cy,r.y1-r.cy))}if(u=o[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g),u)for(s=u.length,c=1/Math.max(s-1,1),f=0;f<s;f+=1)e=u[f].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h=e[2]?parseFloat(e[2])/(e[3]==="%"?100:i.width):f*c,r.colorStops.push({color:e[1],stop:h})}return r};r.Generate.Gradient=function(n,i){var h=t.createElement("canvas"),o=h.getContext("2d"),f,s,e,c,l;if(h.width=i.width,h.height=i.height,f=r.Generate.parseGradient(n,i),l=new Image,f)if(f.type==="linear"){for(s=o.createLinearGradient(f.x0,f.y0,f.x1,f.y1),e=0,c=f.colorStops.length;e<c;e+=1)try{s.addColorStop(f.colorStops[e].stop,f.colorStops[e].color)}catch(y){u(["failed to add color stop: ",y,"; tried to add: ",f.colorStops[e],"; stop: ",e,"; in: ",n])}o.fillStyle=s;o.fillRect(0,0,i.width,i.height);l.src=h.toDataURL()}else if(f.type==="circle"){for(s=o.createRadialGradient(f.cx,f.cy,0,f.cx,f.cy,f.rx),e=0,c=f.colorStops.length;e<c;e+=1)try{s.addColorStop(f.colorStops[e].stop,f.colorStops[e].color)}catch(y){u(["failed to add color stop: ",y,"; tried to add: ",f.colorStops[e],"; stop: ",e,"; in: ",n])}o.fillStyle=s;o.fillRect(0,0,i.width,i.height);l.src=h.toDataURL()}else if(f.type==="ellipse"){var a=t.createElement("canvas"),p=a.getContext("2d"),b=Math.max(f.rx,f.ry),w=b*2,v;for(a.width=a.height=w,s=p.createRadialGradient(f.rx,f.ry,0,f.rx,f.ry,b),e=0,c=f.colorStops.length;e<c;e+=1)try{s.addColorStop(f.colorStops[e].stop,f.colorStops[e].color)}catch(y){u(["failed to add color stop: ",y,"; tried to add: ",f.colorStops[e],"; stop: ",e,"; in: ",n])}p.fillStyle=s;p.fillRect(0,0,w,w);o.fillStyle=f.colorStops[e-1].color;o.fillRect(0,0,h.width,h.height);v=new Image;v.onload=function(){o.drawImage(v,f.cx-f.rx,f.cy-f.ry,2*f.rx,2*f.ry);l.src=h.toDataURL()};v.src=a.toDataURL()}return l};r.Generate.ListAlpha=function(n){var t="",i;do i=n%26,t=String.fromCharCode(i+64)+t,n=n/26;while(n*26>26);return t};r.Generate.ListRoman=function(n){var i=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],u="",t,f=i.length;if(n<=0||n>=4e3)return n;for(t=0;t<f;t+=1)while(n>=r[t])n-=r[t],u+=i[t];return u}}();r.Parse=function(f,e){function at(){return{width:Math.max(Math.max(c.body.scrollWidth,c.documentElement.scrollWidth),Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),Math.max(c.body.clientWidth,c.documentElement.clientWidth)),height:Math.max(Math.max(c.body.scrollHeight,c.documentElement.scrollHeight),Math.max(c.body.offsetHeight,c.documentElement.offsetHeight),Math.max(c.body.clientHeight,c.documentElement.clientHeight))}}function l(n,t){var i=parseInt(s(n,t),10);return isNaN(i)?0:i}function g(n,t,i,r,u,f){f!=="transparent"&&(n.setVariable("fillStyle",f),n.fillRect(t,i,r,u),w+=1)}function ni(n,t){switch(t){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(n,t,i){if(n.length>0)return t+i.toUpperCase()});case"uppercase":return n.toUpperCase();default:return n}}function ft(n){return n.replace(/^\s*/g,"").replace(/\s*$/g,"")}function ti(n,t){if(rt[n+"-"+t]!==i)return rt[n+"-"+t];var r=c.createElement("div"),u=c.createElement("img"),f=c.createElement("span"),o,s,e;return r.style.visibility="hidden",r.style.fontFamily=n,r.style.fontSize=t,r.style.margin=0,r.style.padding=0,a.appendChild(r),u.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",u.width=1,u.height=1,u.style.margin=0,u.style.padding=0,u.style.verticalAlign="baseline",f.style.fontFamily=n,f.style.fontSize=t,f.style.margin=0,f.style.padding=0,f.appendChild(c.createTextNode("Hidden Text")),r.appendChild(f),r.appendChild(u),o=u.offsetTop-f.offsetTop+1,r.removeChild(f),r.appendChild(c.createTextNode("Hidden Text")),r.style.lineHeight="normal",u.style.verticalAlign="super",s=u.offsetTop-r.offsetTop+1,e={baseline:o,lineWidth:1,middle:s},rt[n+"-"+t]=e,a.removeChild(r),e}function vt(n,t,i,r){ft(n).length>0&&(r.fillText(n,t,i),w+=1)}function yt(n,t,i){var o=i.ctx,ut=s(n,"fontFamily"),et=s(n,"fontSize"),b=s(n,"color"),d=s(n,"textDecoration"),nt=s(n,"textAlign"),lt=s(n,"letterSpacing"),u,ot,p,l,st,k=s(n,"fontWeight"),at=s(n,"fontStyle"),yt=s(n,"fontVariant"),ht,v,it=0,f,h,y,rt,w,ct;if(t.nodeValue=ni(t.nodeValue,s(n,"textTransform")),ot=ft(t.nodeValue),ot.length>0){d!=="none"&&(p=ti(ut,et));nt=nt.replace(["-webkit-auto"],["auto"]);l=e.letterRendering===!1&&/^(left|right|justify|auto)$/.test(nt)&&/^(normal|none)$/.test(lt)?t.nodeValue.split(/(\b| )/):t.nodeValue.split("");switch(parseInt(k,10)){case 401:k="bold";break;case 400:k="normal"}for(o.setVariable("fillStyle",b),o.setVariable("font",at+" "+yt+" "+k+" "+et+" "+ut),o.setVariable("textAlign","left"),f=t,h=0,st=l.length;h<st;h+=1){if(v=null,tt.rangeBounds)(d!=="none"||ft(l[h]).length!==0)&&(v=l[h],c.createRange?(y=c.createRange(),y.setStart(t,it),y.setEnd(t,it+v.length)):y=a.createTextRange(),u=y.getBoundingClientRect()?y.getBoundingClientRect():{});else{if(typeof f.nodeValue!="string")continue;ht=f.splitText(l[h].length);rt=f.parentNode;w=c.createElement("wrapper");ct=f.cloneNode(!0);w.appendChild(f.cloneNode(!0));rt.replaceChild(w,f);u=r.Util.Bounds(w);v=f.nodeValue;f=ht;rt.replaceChild(ct,w)}v!==null&&vt(v,u.left,u.bottom,o);switch(d){case"underline":g(o,u.left,Math.round(u.top+p.baseline+p.lineWidth),u.width,1,b);break;case"overline":g(o,u.left,u.top,u.width,1,b);break;case"line-through":g(o,u.left,Math.ceil(u.top+p.middle+p.lineWidth),u.width,1,b)}it+=l[h].length}}}function ii(n,t){var i=c.createElement("boundelement"),u,f;return i.style.display="inline",u=n.style.listStyleType,n.style.listStyleType="none",i.appendChild(c.createTextNode(t)),n.insertBefore(i,n.firstChild),f=r.Util.Bounds(i),n.removeChild(i),n.style.listStyleType=u,f}function ri(n){var t=-1,i=1,r=n.parentNode.childNodes;if(n.parentNode){while(r[++t]!==n)r[t].nodeType===1&&i++;return i}return-1}function ui(n,t,i){var a=s(n,"listStylePosition"),o,h,c=s(n,"listStyleType"),u,f,l,e=s(n,"fontWeight");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(c)){u=ri(n);switch(c){case"decimal":f=u;break;case"decimal-leading-zero":f=u.toString().length===1?u="0"+u.toString():u.toString();break;case"upper-roman":f=r.Generate.ListRoman(u);break;case"lower-roman":f=r.Generate.ListRoman(u).toLowerCase();break;case"lower-alpha":f=r.Generate.ListAlpha(u).toLowerCase();break;case"upper-alpha":f=r.Generate.ListAlpha(u)}f+=". ";l=ii(n,f);switch(e){case 401:e="bold";break;case 400:e="normal"}if(p.setVariable("fillStyle",s(n,"color")),p.setVariable("font",s(n,"fontVariant")+" "+e+" "+s(n,"fontStyle")+" "+s(n,"fontSize")+" "+s(n,"fontFamily")),a==="inside")p.setVariable("textAlign","left"),o=i.left;else return;h=l.bottom;vt(f,o,h,p)}}function pt(n){var t=f[n];return t&&t.succeeded===!0?t.img:!1}function et(n,t){var i=Math.max(n.left,t.left),r=Math.max(n.top,t.top),u=Math.min(n.left+n.width,t.left+t.width),f=Math.min(n.top+n.height,t.top+t.height);return{left:i,top:r,width:u-i,height:f-r}}function fi(n,t){var i;return t?n!=="auto"?(gt=!0,i=o(n),t.children.push(i),i):t:o(0)}function ei(n,t,i,r){for(var b=i.left,tt=i.top,k=i.width,d=i.height,p,o,f,c,a,u,e,y,h=function(n){for(var i=[],r=["Top","Right","Bottom","Left"],t=0;t<4;t+=1)i.push({width:l(n,"border"+r[t]+"Width"),color:s(n,"border"+r[t]+"Color")});return i}(n),it=function(n){for(var i=[],r=["TopLeft","TopRight","BottomRight","BottomLeft"],t=0;t<4;t+=1)i.push(s(n,"border"+r[t]+"Radius"));return i}(n),g,nt,v=0;v<4;v+=1)if(p=h[v],e=[],p.width>0){o=b;f=tt;c=k;a=d-h[2].width;switch(v){case 0:a=h[0].width;u=0;e[u++]=["line",o,f];e[u++]=["line",o+c,f];e[u++]=["line",o+c-h[1].width,f+a];e[u++]=["line",o+h[3].width,f+a];break;case 1:o=b+k-h[1].width;c=h[1].width;u=0;e[u++]=["line",o,f+h[0].width];e[u++]=["line",o+c,f];e[u++]=["line",o+c,f+a+h[2].width];e[u++]=["line",o,f+a];break;case 2:f=f+d-h[2].width;a=h[2].width;u=0;e[u++]=["line",o+h[3].width,f];e[u++]=["line",o+c-h[2].width,f];e[u++]=["line",o+c,f+a];e[u++]=["line",o,f+a];break;case 3:c=h[3].width;u=0;e[u++]=["line",o,f];e[u++]=["line",o+c,f+h[0].width];e[u++]=["line",o+c,f+a];e[u++]=["line",o,f+a+h[2].width]}if(y={left:o,top:f,width:c,height:a},r&&(y=et(y,r)),y.width>0&&y.height>0&&p.color!=="transparent"){for(t.setVariable("fillStyle",p.color),g=t.drawShape(),nt=e.length,u=0;u<nt;u++)g[u===0?"moveTo":e[u][0]+"To"].apply(null,e[u].slice(1));w+=1}}return h}function ot(n,t,i){for(var r=c.createElement("valuewrap"),h=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],l,e,o,f=0,v=h.length;f<v;f+=1){o=h[f];try{r.style[o]=s(n,o)}catch(y){u("html2canvas: Parse: Exception caught in renderFormValue: "+y.message)}}r.style.borderColor="black";r.style.borderStyle="solid";r.style.display="block";r.style.position="absolute";(/^(submit|reset|button|text|password)$/.test(n.type)||n.nodeName==="SELECT")&&(r.style.lineHeight=s(n,"height"));r.style.top=t.top+"px";r.style.left=t.left+"px";l=n.nodeName==="SELECT"?n.options[n.selectedIndex].text:n.value;e=c.createTextNode(l);r.appendChild(e);a.appendChild(r);yt(n,e,i);a.removeChild(r)}function nt(n,t,i,r,u,f,e,o,s,h){n.drawImage(t,i,r,u,f,e,o,s,h);w+=1}function wt(n,t,i,r,u,f,e,o){var s=0,h=0;e-i>0&&(s=e-i);o-r>0&&(h=o-r);nt(n,t,s,h,u-s,f-h,i+s,r+h,u-s,f-h)}function oi(n,t,i,r,u,f,e){var s,h=Math.min(t.width,f),o;for(i.top=i.top-Math.ceil(i.top/t.height)*t.height,o=u+i.top;o<e+u;)s=Math.floor(o+t.height)>e+u?e+u-o:t.height,wt(n,t,r+i.left,o,h,s,r,u),o=Math.floor(o+t.height)}function bt(n,t,i,r,u,f,e){var h=Math.min(t.height,e),s,o;for(i.left=i.left-Math.ceil(i.left/t.width)*t.width,o=r+i.left;o<f+r;)s=Math.floor(o+t.width)>f+r?f+r-o:t.width,wt(n,t,o,u+i.top,s,h,r,u),o=Math.floor(o+t.width)}function si(n,t,i){var h=s(n,"backgroundImage"),d=s(n,"backgroundRepeat").split(",")[0],f,e,o,a,c,l,p,w,v,b,k,y;if(/data:image\/.*;base64,/i.test(h)||/^(-webkit|-moz|linear-gradient|-o-)/.test(h)||(h=h.split(",")[0]),typeof h!="undefined"&&/^(1|none)$/.test(h)===!1)if(h=r.Util.backgroundImage(h),f=pt(h),e=r.Util.BackgroundPosition(n,t,f),f)switch(d){case"repeat-x":bt(i,f,e,t.left,t.top,t.width,t.height);break;case"repeat-y":oi(i,f,e,t.left,t.top,t.width,t.height);break;case"no-repeat":a=t.width-e.left;v=t.height-e.top;c=e.left;l=e.top;p=e.left+t.left;w=e.top+t.top;c<0?(c=Math.abs(c),p+=c,a=Math.min(t.width,f.width-c)):(a=Math.min(a,f.width),c=0);l<0?(l=Math.abs(l),w+=l,v=Math.min(t.height,f.height-l)):(v=Math.min(v,f.height),l=0);v>0&&a>0&&nt(i,f,c,l,a,v,p,w,a,v);break;default:for(e.top=e.top-Math.ceil(e.top/f.height)*f.height,o=t.top+e.top;o<t.height+t.top;)b=Math.min(f.height,t.height+t.top-o),k=Math.floor(o+f.height)>b+o?b+o-o:f.height,o<t.top?(y=t.top-o,o=t.top):y=0,bt(i,f,e,t.left,o,t.width,k),y>0&&(e.top+=y),o=Math.floor(o+f.height)-y}else u("html2canvas: Error loading background:"+h)}function kt(n,t){var f=r.Util.Bounds(n),tt=f.left,it=f.top,ft=f.width,ht=f.height,p,ct=s(n,"backgroundColor"),lt=s(n,"position"),w,vt=s(n,"opacity"),o,rt,i,a,c,ut,v,y,b,d;t?k={}:(k=at(),t={opacity:1});w=fi(s(n,"zIndex"),t.zIndex);o={ctx:h(k.width||ft,k.height||ht),zIndex:w,opacity:vt*t.opacity,cssPosition:lt};t.clip&&(o.clip=r.Util.Extend({},t.clip));e.useOverflow===!0&&/(hidden|scroll|auto)/.test(s(n,"overflow"))===!0&&/(BODY)/i.test(n.nodeName)===!1&&(o.clip=o.clip?et(o.clip,f):f);rt=w.children.push(o);a=w.children[rt-1].ctx;a.setVariable("globalAlpha",o.opacity);i=ei(n,a,f,!1);o.borders=i;st.test(n.nodeName)&&e.iframeDefault!=="transparent"&&(ct=e.iframeDefault==="default"?"#efefef":e.iframeDefault);c={left:tt+i[3].width,top:it+i[0].width,width:ft-(i[1].width+i[3].width),height:ht-(i[0].width+i[2].width)};o.clip&&(c=et(c,o.clip));c.height>0&&c.width>0&&(g(a,c.left,c.top,c.width,c.height,ct),si(n,c,a));switch(n.nodeName){case"IMG":ut=n.getAttribute("src");p=pt(ut);p?(v=l(n,"paddingLeft"),y=l(n,"paddingTop"),b=l(n,"paddingRight"),d=l(n,"paddingBottom"),nt(a,p,0,0,p.width,p.height,tt+v+i[3].width,it+y+i[0].width,f.width-(i[1].width+i[3].width+v+b),f.height-(i[0].width+i[2].width+y+d))):u("html2canvas: Error loading <img>:"+ut);break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(n.type)&&n.value.length>0&&ot(n,f,o);break;case"TEXTAREA":n.value.length>0&&ot(n,f,o);break;case"SELECT":n.options.length>0&&ot(n,f,o);break;case"LI":ui(n,o,c);break;case"CANVAS":v=l(n,"paddingLeft");y=l(n,"paddingTop");b=l(n,"paddingRight");d=l(n,"paddingBottom");nt(a,n,0,0,n.width,n.height,tt+v+i[3].width,it+y+i[0].width,f.width-(i[1].width+i[3].width+v+b),f.height-(i[0].width+i[2].width+y+d))}return w.children[rt-1]}function dt(n,t){if(s(n,"display")!=="none"&&s(n,"visibility")!=="hidden"&&!n.hasAttribute("data-html2canvas-ignore")&&(t=kt(n,t)||t,p=t.ctx,!st.test(n.nodeName)))for(var f=r.Util.Children(n),i,u=0,e=f.length;u<e;u+=1)i=f[u],i.nodeType===1?dt(i,t):i.nodeType===3&&yt(n,i,t)}var s;n.scroll(0,0);var tt={rangeBounds:!1,svgRendering:e.svgRendering&&function(){var r=new Image,n=t.createElement("canvas"),f=n.getContext===i?!1:n.getContext("2d");if(f===!1)return!1;n.width=n.height=10;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup<\/div><\/foreignObject><\/svg>";try{f.drawImage(r,0,0);n.toDataURL()}catch(e){return!1}return u("html2canvas: Parse: SVG powered rendering available"),!0}()},it=e.elements===i?t.body:e.elements[0],gt=!1,w=0,rt={},c=it.ownerDocument,st=new RegExp("("+e.ignoreElements+")"),a=c.body,b,v,ht,ct,y,p,k,d,ut,lt;for(f=f||{},c.createRange&&(b=c.createRange(),b.getBoundingClientRect&&(v=c.createElement("boundtest"),v.style.height="123px",v.style.display="block",a.appendChild(v),b.selectNode(v),ht=b.getBoundingClientRect(),ct=ht.height,ct===123&&(tt.rangeBounds=!0),a.removeChild(v))),s=r.Util.getCSS,y=kt(it,null),tt.svgRendering&&function(n){function f(n){for(var s=r.Util.Children(n),c=s.length,e,u,h,i,o=0;o<c;o+=1)if(i=s[o],i.nodeType===3)t+=i.nodeValue.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");else if(i.nodeType===1&&!/^(script|meta|title)$/.test(i.nodeName.toLowerCase())){if(t+="<"+i.nodeName.toLowerCase(),i.hasAttributes())for(e=i.attributes,h=e.length,u=0;u<h;u+=1)t+=" "+e[u].name+'="'+e[u].value+'"';t+=">";f(i);t+="<\/"+i.nodeName.toLowerCase()+">"}}var u=new Image,i=at(),t="";f(n);u.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+i.width+"' height='"+i.height+"'>","<foreignObject width='"+i.width+"' height='"+i.height+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",t.replace(/\#/g,"%23"),"<\/html>","<\/foreignObject>","<\/svg>"].join("");u.onload=function(){y.svgRender=u}}(t.documentElement),d=0,ut=it.children,lt=ut.length;d<lt;d+=1)dt(ut[d],y);return y.backgroundColor=s(t.documentElement,"backgroundColor"),y};r.Preload=function(f){function tt(n){o.href=n;o.href=o.href;var t=o.protocol+o.host;return t===y}function s(){u("html2canvas: start: images: "+e.numLoaded+" / "+e.numTotal+" (failed: "+e.numFailed+")");!e.firstRun&&e.numLoaded>=e.numTotal&&(u("Finished loading images: # "+e.numTotal+" (failed: "+e.numFailed+")"),typeof f.complete=="function"&&f.complete(e))}function b(t,r,u){var c,v=f.proxy,h;o.href=t;t=o.href;c="html2canvas_"+d++;u.callbackname=c;v+=v.indexOf("?")>-1?"&":"?";v+="url="+encodeURIComponent(t)+"&callback="+c;h=a.createElement("script");n[c]=function(t){t.substring(0,6)==="error:"?(u.succeeded=!1,e.numLoaded++,e.numFailed++,s()):(l(r,u),r.src=t);n[c]=i;try{delete n[c]}catch(f){}h.parentNode.removeChild(h);h=null;delete u.script;delete u.callbackname};h.setAttribute("type","text/javascript");h.setAttribute("src",v);u.script=h;n.document.body.appendChild(h)}function k(n){var l=r.Util.Children(n),f,t,a,c,o=!1,v;try{for(v=l.length,f=0;f<v;f+=1)k(l[f])}catch(y){}try{o=n.nodeType}catch(p){o=!1;u("html2canvas: failed to access some element's nodeType - Exception: "+p.message)}if(o===1||o===i){try{t=r.Util.getCSS(n,"backgroundImage")}catch(y){u("html2canvas: failed to get background-image - Exception: "+y.message)}t&&t!=="1"&&t!=="none"&&(/^(-webkit|-o|-moz|-ms|linear)-/.test(t)?(c=r.Generate.Gradient(t,r.Util.Bounds(n)),c!==i&&(e[t]={img:c,succeeded:!0},e.numTotal++,e.numLoaded++,s())):(a=r.Util.backgroundImage(t.match(/data:image\/.*;base64,/i)?t:t.split(",")[0]),h.loadImage(a)))}}function l(t,r){t.onload=function(){r.timer!==i&&n.clearTimeout(r.timer);e.numLoaded++;r.succeeded=!0;t.onerror=t.onload=null;s()};t.onerror=function(){if(t.crossOrigin==="anonymous"&&(n.clearTimeout(r.timer),f.proxy)){var i=t.src;t=new Image;r.img=t;t.src=i;b(t.src,t,r);return}e.numLoaded++;e.numFailed++;r.succeeded=!1;t.onerror=t.onload=null;s()}}var e={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},y,h,c,d=0,p=f.elements[0]||t.body,a=p.ownerDocument,w=a.images,g=w.length,o=a.createElement("a"),nt=function(n){return n.crossOrigin!==i}(new Image),v;for(o.href=n.location.href,y=o.protocol+o.host,h={loadImage:function(t){var r,u;t&&e[t]===i&&(r=new Image,t.match(/data:image\/.*;base64,/i)?(r.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),u=e[t]={img:r},e.numTotal++,l(r,u)):tt(t)||f.allowTaint===!0?(u=e[t]={img:r},e.numTotal++,l(r,u),r.src=t):nt&&!f.allowTaint&&f.useCORS?(r.crossOrigin="anonymous",u=e[t]={img:r},e.numTotal++,l(r,u),r.src=t,r.customComplete=function(){this.img.complete?this.img.onerror():this.timer=n.setTimeout(this.img.customComplete,100)}.bind(u),r.customComplete()):f.proxy&&(u=e[t]={img:r},e.numTotal++,b(t,r,u)))},cleanupDOM:function(r){var o,h;if(!e.cleanupDone){r&&typeof r=="string"?u("html2canvas: Cleanup because: "+r):u("html2canvas: Cleanup after timeout: "+f.timeout+" ms.");for(h in e)if(e.hasOwnProperty(h)&&(o=e[h],typeof o=="object"&&o.callbackname&&o.succeeded===i)){n[o.callbackname]=i;try{delete n[o.callbackname]}catch(c){}o.script&&o.script.parentNode&&(o.script.setAttribute("src","about:blank"),o.script.parentNode.removeChild(o.script));e.numLoaded++;e.numFailed++;u("html2canvas: Cleaned up failed img: '"+h+"' Steps: "+e.numLoaded+" / "+e.numTotal)}n.stop!==i?n.stop():t.execCommand!==i&&t.execCommand("Stop",!1);t.close!==i&&t.close();e.cleanupDone=!0;r&&typeof r=="string"||s()}},renderingDone:function(){v&&n.clearTimeout(v)}},f.timeout>0&&(v=n.setTimeout(h.cleanupDOM,f.timeout)),u("html2canvas: Preload starts: finding background-images"),e.firstRun=!0,k(p),u("html2canvas: Preload: Finding images"),c=0;c<g;c+=1)h.loadImage(w[c].getAttribute("src"));return e.firstRun=!1,u("html2canvas: Preload: Done."),e.numTotal===e.numLoaded&&s(),h};r.Renderer=function(n,i){function f(n){for(var r=[],e=[],h=n.children,s,c,l,t,i,v,o=0,a=h.length;o<a;o+=1)t=h[o],t.children&&t.children.length>0?(r.push(t),e.push(t.zindex)):u.push(t);for(e.sort(function(n,t){return n-t}),s=0,c=e.length;s<c;s+=1)for(l=e[s],i=0,v=r.length;i<=v;i+=1)if(r[i].zindex===l){t=r.splice(i,1);f(t[0]);break}}var u=[];if(f(n.zIndex),typeof i._renderer._create!="function")throw new Error("Invalid renderer defined");return i._renderer._create(n,i,t,u,r)};f=function(t,f){var o,s,e={logging:!1,elements:t,proxy:"http://html2canvas.appspot.com/",timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,iframeDefault:"default",ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,flashcanvas:i,width:null,height:null,taintTest:!0,renderer:"Canvas"};if(e=r.Util.Extend(f,e),typeof e.renderer=="string"&&r.Renderer[e.renderer]!==i)e._renderer=r.Renderer[e.renderer](e);else if(typeof e.renderer=="function")e._renderer=e.renderer(e);else throw"Unknown renderer";return r.logging=e.logging,e.complete=function(n){if((typeof e.onpreloaded!="function"||e.onpreloaded(n)!==!1)&&(o=r.Parse(n,e),typeof e.onparsed!="function"||e.onparsed(o)!==!1)&&(s=r.Renderer(o,e),typeof e.onrendered=="function"))e.onrendered(s)},n.setTimeout(function(){r.Preload(e)},0),{render:function(n,t){return r.Renderer(n,r.Util.Extend(t,e))},parse:function(n,t){return r.Parse(n,r.Util.Extend(t,e))},preload:function(n){return r.Preload(r.Util.Extend(n,e))},log:u}};f.log=u;f.Renderer={Canvas:i};r.Renderer.Canvas=function(r){var s;r=r||{};var h=t,f=r.canvas||h.createElement("canvas"),e=!1,c=!1,l=!1,a,o=2880;return f.getContext?(u("html2canvas: Renderer: using canvas renderer"),l=!0):r.flashcanvas!==i&&(e=!0,u("html2canvas: Renderer: canvas not available, using flashcanvas"),s=h.createElement("script"),s.src=r.flashcanvas,s.onload=function(t,r){var f;if(t.onload===i)t.onreadystatechange!==i?(f=function(){t.readyState!=="loaded"&&t.readyState!=="complete"?n.setTimeout(f,250):r()},n.setTimeout(f,250)):u("html2canvas: Renderer: Can't track when flashcanvas is loaded");else return r}(s,function(){typeof n.FlashCanvas!="undefined"&&(u("html2canvas: Renderer: Flashcanvas initialized"),n.FlashCanvas.initElement(f),l=!0,c!==!1&&a._create.apply(null,c))}),h.body.appendChild(s)),a={_create:function(n,r,s,h,a){if(!l)return c=arguments,f;var v=f.getContext("2d"),p,nt,k,d,b,w,g=t.createElement("canvas"),it=g.getContext!==i,rt,y,tt=it?g.getContext("2d"):{},ut=[],ft;if(f.width=f.style.width=e?Math.min(o,r.width||n.ctx.width):r.width||n.ctx.width,f.height=f.style.height=e?Math.min(o,r.height||n.ctx.height):r.height||n.ctx.height,ft=v.fillStyle,v.fillStyle=n.backgroundColor,v.fillRect(0,0,f.width,f.height),v.fillStyle=ft,r.svgRendering&&n.svgRender!==i)v.drawImage(n.svgRender,0,0);else for(nt=0,k=h.length;nt<k;nt+=1){if(p=h.splice(0,1)[0],p.canvasPosition=p.canvasPosition||{},v.textBaseline="bottom",p.clip&&(v.save(),v.beginPath(),v.rect(p.clip.left,p.clip.top,p.clip.width,p.clip.height),v.clip()),p.ctx.storage)for(d=0,rt=p.ctx.storage.length;d<rt;d+=1){y=p.ctx.storage[d];switch(y.type){case"variable":v[y.name]=y.arguments;break;case"function":if(y.name==="fillRect")(!e||y.arguments[0]+y.arguments[2]<o&&y.arguments[1]+y.arguments[3]<o)&&v.fillRect.apply(v,y.arguments);else if(y.name==="drawShape")(function(n){var t,i=n.length;for(v.beginPath(),t=0;t<i;t++)v[n[t].name].apply(v,n[t].arguments);v.closePath();v.fill()})(y.arguments);else if(y.name==="fillText")(!e||y.arguments[1]<o&&y.arguments[2]<o)&&v.fillText.apply(v,y.arguments);else if(y.name==="drawImage"&&y.arguments[8]>0&&y.arguments[7]){if(it&&r.taintTest&&ut.indexOf(y.arguments[0].src)===-1){tt.drawImage(y.arguments[0],0,0);try{tt.getImageData(0,0,1,1)}catch(et){g=s.createElement("canvas");tt=g.getContext("2d");continue}ut.push(y.arguments[0].src)}v.drawImage.apply(v,y.arguments)}}}p.clip&&v.restore()}return(u("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),k=r.elements.length,k===1&&typeof r.elements[0]=="object"&&r.elements[0].nodeName!=="BODY"&&e===!1)?(w=a.Util.Bounds(r.elements[0]),b=s.createElement("canvas"),b.width=w.width,b.height=w.height,v=b.getContext("2d"),v.drawImage(f,w.left,w.top,w.width,w.height,0,0,w.width,w.height),f=null,b):f}}};r.Renderer.SVG=function(n){n=n||{};var y=t,o="http://www.w3.org/2000/svg",f=y.createElementNS(o,"svg"),k="http://www.w3.org/1999/xlink",p=y.createElementNS(o,"defs"),a,c,w,b,s,r,i,l={},e,h,v=0;return{_create:function(n,t,y,d){for(f.setAttribute("version","1.1"),f.setAttribute("baseProfile","full"),f.setAttribute("viewBox","0 0 "+Math.max(n.ctx.width,t.width)+" "+Math.max(n.ctx.height,t.height)),f.setAttribute("width",Math.max(n.ctx.width,t.width)+"px"),f.setAttribute("height",Math.max(n.ctx.height,t.height)+"px"),f.setAttribute("preserveAspectRatio","none"),f.appendChild(p),a=0,w=d.length;a<w;a+=1)if(s=d.splice(0,1)[0],s.canvasPosition=s.canvasPosition||{},s.ctx.storage)for(c=0,b=s.ctx.storage.length;c<b;c+=1){r=s.ctx.storage[c];switch(r.type){case"variable":l[r.name]=r.arguments;break;case"function":r.name==="fillRect"?(i=y.createElementNS(o,"rect"),i.setAttribute("x",r.arguments[0]),i.setAttribute("y",r.arguments[1]),i.setAttribute("width",r.arguments[2]),i.setAttribute("height",r.arguments[3]),i.setAttribute("fill",l.fillStyle),f.appendChild(i)):r.name==="fillText"?(i=y.createElementNS(o,"text"),h=l.font.split(" "),i.style.fontVariant=h.splice(0,1)[0],i.style.fontWeight=h.splice(0,1)[0],i.style.fontStyle=h.splice(0,1)[0],i.style.fontSize=h.splice(0,1)[0],i.setAttribute("x",r.arguments[1]),i.setAttribute("y",r.arguments[2]-(parseInt(i.style.fontSize,10)+3)),i.setAttribute("fill",l.fillStyle),i.style.dominantBaseline="text-before-edge",i.style.fontFamily=h.join(" "),e=y.createTextNode(r.arguments[0]),i.appendChild(e),f.appendChild(i)):r.name==="drawImage"&&r.arguments[8]>0&&r.arguments[7]&&(i=y.createElementNS(o,"clipPath"),i.setAttribute("id","clipId"+v),e=y.createElementNS(o,"rect"),e.setAttribute("x",r.arguments[5]),e.setAttribute("y",r.arguments[6]),e.setAttribute("width",r.arguments[3]),e.setAttribute("height",r.arguments[4]),i.appendChild(e),p.appendChild(i),i=y.createElementNS(o,"image"),i.setAttributeNS(k,"xlink:href",r.arguments[0].src),i.setAttribute("width",r.arguments[7]),i.setAttribute("height",r.arguments[8]),i.setAttribute("x",r.arguments[5]),i.setAttribute("y",r.arguments[6]),i.setAttribute("clip-path","url(#clipId"+v+")"),i.setAttribute("preserveAspectRatio","none"),f.appendChild(i),v+=1)}}return u("html2canvas: Renderer: SVG Renderer done - returning SVG DOM obj"),f}}};n.html2canvas=f})(window,document)