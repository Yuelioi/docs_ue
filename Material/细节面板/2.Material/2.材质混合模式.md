https://docs.unrealengine.com/5.0/en-US/material-blend-modes-in-unreal-engine/


| 模式           | Mode              | 描述                                                                                                                                                                                    |
| -------------- | ----------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| BLEND_不透明   | BLEND_Opaque      | 最终颜色 = 源颜色。材质将绘制在背景之上。与照明兼容。                                                                                                                                   |
| BLEND_蒙版     | BLEND_Masked      | 如果 OpacityMask > OpacityMaskClipValue，则最终颜色 = 源颜色，否则丢弃该像素。与照明兼容。                                                                                              |
| BLEND_半透明   | BLEND_Translucent | 最终颜色 = 源颜色不透明度 + 目标颜色（1 - 不透明度）。此混合模式与动态照明不兼容。                                                                                                      |
| BLEND_添加剂   | BLEND_Additive    | 最终颜色 = 源颜色 + 目标颜色。此混合模式与动态照明不兼容。                                                                                                                              |
| BLEND_调制     | BLEND_Modulate    | 最终颜色 = 源颜色 x 目标颜色。此混合模式与动态照明或雾不兼容，除非这是贴花材质。                                                                                                        |
| 阿尔法复合材料 | AlphaComposite    | 用于具有预乘 alpha 的纹理的材质。也就是说，颜色通道已经乘以 alpha，<br>因此在与帧缓冲区混合时，GPU 可以跳过通常用于 alpha 混合的 (SrcAlpha * SrcColor) 算法。可以改善添加剂混合的视觉外观。 |
| AlphaHoldout   | AlphaHoldout      | “保留”材质的 alpha，在视图空间中直接在其后面的半透明对象上打一个洞。                                                                                                                |




描述当前材质的输出如何与背景中已经绘制的内容混合。

更专业地说，当此材质在其他像素之前渲染时，可以控制引擎将此材质（**源颜色**）与帧缓冲区中已有的内容（**目标颜色**）结合起来。

![[../../../../_Config/Attatchment/Pasted image 20220419040358.png]]

本文档使用放置在相机和墙壁之间的球体演示各种混合模式。通过更改球体材质上的混合模式，可以看到小球如何与其后面的像素混合。

![[../../../../_Config/Attatchment/Pasted image 20220419040412.png]]

## 不透明 Opaque

不透明混合模式是最直接的，并且是最常使用的模式。

定义一个了表面，光既不通过也不穿透。非常适合大多数塑料、金属、石材和其他表面类型。从摄像机的角度来看，金色的球体完全遮挡墙壁。

![[../../../../_Config/Attatchment/Pasted image 20220419040447.png]]

## 蒙版 ## Masked

需要有选择地控制可见性时，使用蒙版混合模式。例如，模拟围栏或格栅材质。

蒙版材质图如下所示，**不透明蒙版**输入黑色和白色条纹纹理。遮罩的白色部分被渲染，而黑色部分是不可见的。

蒙版材质没有中间级别的不透明度。

![[../../../../_Config/Attatchment/Pasted image 20220419040458.png]]

从相机的角度来看：

![[../../../../_Config/Attatchment/Pasted image 20220419052607.png]]

重要的是要记住透明和未渲染之间的区别。

透明表面（例如玻璃）仍以反射（镜面反射）的形式与光相互作用。在 Masked 模式下剔除的像素根本不绘制；因此不会看到任何反射。如果要保留反射或镜面反射，最好使用半透明混合模式，或者考虑制作分层材质。

此外，由于这些特征不在遮罩区域中渲染，因此根本不计算，从而节省了 GPU 的性能。

## 不透明剪辑蒙版

使用蒙版混合模式时，需要注意 Opacity Mask Clip Value 属性。该值（0~1 ）控制不透明蒙版纹理截止点，超过该值的所有较暗像素都不会渲染。

![[../../../../_Config/Attatchment/Pasted image 20220419052638.png]]

## 半透明 Translucent

用于需要某种形式的透明度的对象。与蒙版混合模式的不同之处在于它允许不同级别的半透明度。

![[../../../../_Config/Attatchment/Pasted image 20220419052702.png]]

通过获取**不透明度**值或纹理并将其应用到表面，使黑色区域完全透明，白色区域完全不透明。示例中，不透明度输入黑色到白色的渐变，在网格顶部完全透明，在底部逐渐达到完全不透明度的球体。

![[../../../../_Config/Attatchment/Pasted image 20220419052715.png]]

该模式目前不支持镜面反射。因此看不到沿表面的反射。但可以在与此类似的节点网络中使用 Cubemap 来伪造此类反射。Cubemap 纹理只是简单地添加到 Base Color 之上。

![[../../../../_Config/Attatchment/Pasted image 20220419052734.png]]

## 相加 Additive

加法混合模式只是把材料的像素加到背景的像素上。这与 Photoshop 中的 Linear Dodge (Add) Blend Mode 非常相似。这意味着没有变暗；因为所有的像素值都加在一起，黑色将呈现为透明。这种混合模式对各种特殊效果很有用，如火、蒸汽或全息图。

![[../../../../_Config/Attatchment/Pasted image 20220419052827.png]]

与半透明混合模式一样，这种混合模式不尊重镜面性（即反射）。混合的加法性质可能意味着你无论如何都不会使用它

使用上面半透明模式的 Cubemap 方法可以模拟出类似反射的效果。

在下面的图片中，两个球体重叠的地方，像素被加在一起，因此被加亮。

![[../../../../_Config/Attatchment/Pasted image 20220419052849.png]]

一个缺点是，在浅色背景下，它们往往很难被看到。球体的侧面图显示了这一点。

![[../../../../_Config/Attatchment/Pasted image 20220419052907.png]]

解决方案之一是使用 AlphaComposite 混合模式，而不是使用一个有预先乘以 alpha 通道的纹理。这可以改善明亮场景中的饱和度和可见度。

## 变调 Modulate

Modulate（变调）混合模式将材质的值与背景的像素相乘。与 Photoshop 中的 Multiply 混合模式非常相似，并产生一种变暗的效果。

![[../../../../_Config/Attatchment/Pasted image 20220419052930.png]]

在上图中，材料阴影模型被设置为无光（unlit），混合模式为变调。一个 Constant3 Vector 被插入 Emissive 输入来定义表面颜色。

![[../../../../_Config/Attatchment/Pasted image 20220419052947.png]]

对于多个球体，重叠的像素会相乘并变暗。

## AlphaComposite
AlphaComposite 用于具有预乘 alpha 纹理的材料中，这意味着在存储图像之前，RGB 颜色通道被预乘以 alpha 通道。对于色彩鲜艳的粒子和 VFX 来说，AlphaComposite 混合模式是相加或半透明式混合模式的有效替代。

与相加混合模式相比，AlphaComposite 材料具有更好的可视性，并且在浅色背景下保持更高的色彩饱和度。由于添加剂的堆积，材料的明亮区域不太可能被炸成纯白色。

下面的视频显示了具有不透明度参数的 AlphaComposite 材料。在低不透明度水平下，该材料的工作方式更像是加法混合，而在 0.5 和更高的不透明度水平下，它类似于半透明混合，在遮罩的边缘附近创造出有趣的过渡效果。

![[../../../../_Config/Attatchment/Pasted image 20220419053043.png]]

## Alpha 阻断 AlphaHoldout

可“保留”材质的 Alpha，在视图空间中直接穿过其后面的对象打孔。下图显示了 AlphaHoldout 实现的相机和场景布局。

![[../../../../_Config/Attatchment/Pasted image 20220419053105.png]]

1. 摄像机。
2. 一个静态网格作为 "打洞 "对象。AlphaHoldout 材质被应用到这个网格上。这个材质必须使用无光（unlit）阴影模型。
3. 在 AlphaHoldout 对象的后面有一个接收面（你打算打一个洞）；此例是一面砖墙。接收表面的材料必须使用半透明、相加、变调（ Translucent, Additive, Modulate）或 AlphaComposite 混合模式。AlphaHoldout 材质不能作用于一个不透明的材质。
4. 场景的背景，将通过洞口可见。

从摄像机的角度看，你会看到一个透明的洞穿过接收表面，使后面的物体可见。

![[../../../../_Config/Attatchment/Pasted image 20220419053148.png]]

因为 AlphaHoldOut 材质是在一个单独的静态网格资产上，你可以很容易地在编辑器中移动它或在游戏中对它进行动画处理。