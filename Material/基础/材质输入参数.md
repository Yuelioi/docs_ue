链接：https://docs.unrealengine.com/5.0/en-US/material-inputs-in-unreal-engine/

在 Details 面板中更改某些 Material 属性时， Main Material Node 上的某些输入变为白色（表示已启用），而其他输入则显示为灰色。  

材质中控制在是否启用输入的三个材质属性：

-   **混合模式**- 控制材质如何与其后面的像素混合。
-   **着色模型**- 定义如何计算材质表面的光。
-   **材料域**- 决定材料的使用方式。例如，是否意味着是表面的一部分、光功能或后期处理材料。

如果材质所需的输入被禁用，那是因为上述一个或多个属性设置不正确。例如，制作一块玻璃，但禁用了不透明度输入。解决方案是将**混合模式**更改为**半透明**。



## 底色

| 名称       | 基色强度 |
| ---------- | -------- |
| 木炭       | 0.02     |
| 新鲜沥青   | 0.02     |
| 磨损的沥青 | 0.08     |
| 裸土       | 0.13     |
| 绿草地     | 0.21     |
| 沙漠沙     | 0.36     |
| 新拌混凝土 | 0.51     |
| 海洋冰     | 0.56     |
| 新鲜的雪   | 0.81     |

| 材料 | 底色 RGB              |
| ---- | --------------------- |
| 铁   | (0.560, 0.570, 0.580) |
| 银   | (0.972, 0.960, 0.915) |
| 铝   | (0.913, 0.921, 0.925) |
| 金   | (1.000, 0.766, 0.336) |
| 铜   | (0.955, 0.637, 0.538) |
| 铬   | (0.550, 0.556, 0.554) |
| 镍   | (0.660, 0.609, 0.526) |
| 钛   | (0.542, 0.497, 0.449) |
| 钴   | (0.662, 0.655, 0.634) |
| 铂   | (0.672, 0.637, 0.585) |

## 金属

对于纯表面，例如纯金属、纯石头、纯塑料等，您应该将 Metallic 设置为 0 或 1，而不是介于两者之间。混合表面（如腐蚀、多尘或生锈的金属）时，会需要介于 0 和 1 之间的某个值。

油漆是一种非金属，因此在油漆覆盖的任何区域，金属值都应为 0。在金属面板可见的任何地方，金属值应为 1。

这应该通过传入金属输入的黑白蒙版来处理。油漆不与金属混合，它位于金属之上。您的金属贴图不应包含中间灰度值，只能包含黑色和白色。您还可以使用材质层来获得类似的结果。

## 镜面反射

Specular 输入 0 和 1 之间的值，1 代表完全反射。

## 高光

| 材质 | 高光值 |
| ---- | ------ |
|玻璃|0.5|
|塑料|0.5|
|石英|0.57|
|冰|0.224|
|水|0.255|
|牛奶|0.277|
|皮肤|0.35|


![[../../../_Config/Attatchment/Pasted image 20220418232036.png]]

## 粗糙度

![[../../../_Config/Attatchment/Pasted image 20220418225941.png]]

粗糙度贴图经常用于为塑料和金属等材料添加磨损、污迹或其他缺陷。

粗糙度输入控制材质表面的粗糙度或平滑度。粗糙材质比光滑材质在更多方向上散射反射光。该值控制反射的模糊或锐利程度（或镜面高光的宽度或紧密程度）。

-   粗糙度为 0（平滑）会产生镜面反射。
-   粗糙度为 1（粗糙）会产生漫反射或无光泽表面。


## 各向异性和切线

Anisotropy 和 Tangent 输入使您能够控制材质粗糙度的各向异性及其光线方向性。这两个输入用于重现拉丝金属等物体的各向异性效果。

使用 Tangent 输入通过纹理或向量表达式定义光的方向性。


![[../../../_Config/Attatchment/Pasted image 20220419000246.png]]

## 发光颜色

输入控制材质的哪些部分会发光或发光，以及发射的亮度。理想情况下，此输入将接收一个蒙版纹理（除需要发光的区域外，大部分为黑色）。

由于支持 HDR 光照，因此允许使用大于 1 的值。

![[../../../_Config/Attatchment/Pasted image 20220419033258.png]]

## 不透明度

0.0 表示完全透明的材质。

1.0 表示完全不透明的材质。

使用其中一种次表面着色模型时，不透明和蒙版混合模式也使用不透明度。


## 不透明蒙版

不透明度蒙版类似于不透明度，但仅在使用蒙版混合模式时可用。

与不透明度输入不同，不透明度蒙版不允许部分或中间透明度级别。使用不透明蒙版时，材质的区域要么完全可见，要么完全不可见。需要定义复杂实体表面（如金属丝网、链节面等）材质时，是个很好的解决方案。

![[../../../_Config/Attatchment/Pasted image 20220419033419.png]]

Opacity Mask Clip Value属性允许您设置发生剪切的值。例如，如果不透明度蒙版剪辑值设置为 0.5：

-   不透明蒙版上值大于 0.5 的像素变得完全不透明。
-   不透明度蒙版上值低于 0.5 的像素将变为完全透明。

## 法线

法线输入采用法线贴图，该贴图用于通过修改每个单独像素的“法线”或朝向方向来向表面添加重要的物理细节。


## 世界位置偏移
世界位置偏移输入允许材质在世界空间中操纵网格的顶点。这对于使对象移动、改变形状、旋转和各种其他效果很有用。世界位置偏移通常用于微妙的环境动画。

## 次表面颜色
仅在着色模型属性设置为次表面时启用。

允许向材质添加颜色，以模拟光线穿过表面时的颜色变化。

例如，人体皮肤着色器通常使用红色的次表面颜色来模拟表面下的血液。在强光源的背光照射下，在鼻尖、手指或耳垂等四肢的表层皮肤效应最为明显。

## 自定义数据
默认情况下禁用自定义数据材质输入，并且仅在使用某些着色模型时启用。自定义数据插槽填充了特定于上下文的输入，这些输入支持某些着色模型的独特需求。

例如，如果您选择眼睛着色模型，则自定义数据输入变为Iris Mask和Iris Distance。

![[../../../_Config/Attatchment/Pasted image 20220419033623.png]]

使用自定义数据输入的着色模型包括：

-   清漆
-   地下剖面
-   头发
-   布
-   眼睛

## 着色模型

### 头发

头发着色模型用于更好地模拟头发的半透明性质。这种着色模型近似于光线穿过头发的方式，说明头发不是完美的圆柱形。

此外，不是渲染统一的镜面高光，而是根据头发指向的方向独立放置镜面反射。

![[../../../_Config/Attatchment/Pasted image 20220419033736.png]]

选择头发着色模型时，主材质节点上启用了三个输入：

- 散射：此输入控制允许通过头发发生的光散射量。
- Tangent：此输入替代法线输入，用于控制沿 U 和 V 纹理坐标的法线方向。
- 背光：此输入控制影响此头发材料的背光量。

### 布
用于更好地模拟在材质表面有一层薄薄绒毛的类布材质 。

![[../../../_Config/Attatchment/Pasted image 20220419033816.png]]

两个输入：

- Fuzz Color：此输入使您可以向材质添加颜色，以模拟光线穿过表面时的颜色变化。
- Cloth：此输入使您能够控制 Fuzz Color 作为遮罩的强度。值 0 表示对基色没有绒毛颜色贡献，而值 1 则完全混合基色。


### 眼睛
这是一个先进的着色模型，它技术性很强，并且在着色器代码、材质、几何形状及其 UV 布局之间具有很强的依赖性。Epic 建议在开发您自己的眼睛资产或直接从该项目迁移它们时，使用我们的Digital Humans示例项目作为起点。

眼睛阴影模型旨在模拟眼睛表面的阴影 。

![[../../../_Config/Attatchment/Pasted image 20220419033848.png]]

两个额外的输入：

- 虹膜蒙版：这有助于控制虹膜的折射率和深度。
- 虹膜距离：这控制折射虹膜的凹度。

### 透明涂层 Clear Coat

透明涂层着色模型用于更好地模拟在材料表面上具有薄半透明薄膜层的多层材料。您可以在金属或非金属表面上使用透明涂层。

透明涂层材料的示例包括清漆涂层（例如，用于家具），或无色金属上的彩色薄膜，例如汽车油漆或汽水罐。

![[../../../_Config/Attatchment/Pasted image 20220419034027.png]]

新的材质输入：

- Clear Coat：清漆层数，0 为标准底纹模型，1 为全清漆模型。这对于掩蔽很有用。
- 透明涂层粗糙度：透明涂层的粗糙度。我们的近似值对于小值是准确的。支持非常粗糙的透明涂层，但与现实世界中的对应物相比不会很准确。


###  环境光遮蔽 Ambient Occlusion

用于帮助模拟表面裂缝内发生的自阴影。通常，此输入将连接到某种环境遮挡纹理贴图，该贴图通常在 Maya、3ds Max 或 Zbrush 等 3D 建模包中创建。

![[../../../_Config/Attatchment/Pasted image 20220419034102.png]]

### 折射
折射输入采用模拟表面折射率的纹理或值。这对于玻璃和水之类的东西很有用，它们会折射穿过它们的光。

在上图中，一个菲涅耳材质函数用于在两个不同的 IOR 值之间进行混合。

![[../../../_Config/Attatchment/Pasted image 20220419034121.png]]

| 材质 | 折射指数 |
| ---- | -------- |
| 空气 | 1        |
| 水   | 1.33     |
| 冰   | 1.31     |
| 玻璃 | 1.52     |
| 钻石 | 2.42     |

### 像素深度偏移 Pixel Depth Offset 

用于使用您设置的逻辑控制着色器图中的像素深度。这使您能够创建自己的逻辑来根据场景深度混合或淡化对象。

![[../../../_Config/Attatchment/Pasted image 20220419034237.png]]

![[../../../_Config/Attatchment/Pasted image 20220419034318.png]]

### 着色模型

使您能够使用材质图表中的逻辑从可用着色模型列表中进行选择，以用于您的部分材质。当您有一个需要使用多个着色模型（如 Clear Coat 和 Default Lit）的对象时，此输入很有用。这可以减少所需的材质数量，进而节省性能和绘制调用。所有这些都可以通过材质中的逻辑使用着色模型表达式节点和一些纹理蒙版来驱动。

以下是使用**If**表达式在着色模型之间进行选择的简单示例。

![[../../../_Config/Attatchment/Pasted image 20220419034335.png]]

当 A 大于 B 时，生成的着色模型为 Default Lit。当 A 小于或等于 B 时，纹理蒙版用于在部分网格上 显示 Default Lit 和 Clear Coat 着色模型。

![[../../../_Config/Attatchment/Pasted image 20220419034414.png]]





